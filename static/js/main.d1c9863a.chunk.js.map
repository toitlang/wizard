{"version":3,"sources":["actions/wizard.ts","assets/theme/theme.ts","actions/serial.ts","misc/serial/util.ts","misc/serial/index.ts","components/general/rive/RiveAnimation.tsx","components/general/ScrollableContainer.tsx","components/general/util.ts","components/serial/GetStartedView.tsx","components/wizard/images/suggestion.svg","components/wizard/ConnectView.tsx","components/wizard/ErrorView.tsx","containers/wizard/Connect.ts","misc/config/inject.ts","components/wizard/FlashView.tsx","containers/wizard/Flash.ts","components/serial/AdvancedCollapsable.tsx","components/wizard/SetupView.tsx","containers/wizard/Setup.ts","reducers/wizard.ts","components/general/HeaderBodyView.tsx","components/wizard/DoneView.tsx","components/wizard/ErrorButtonView.tsx","components/wizard/images/arrow.svg","components/wizard/images/connect_focus.svg","components/wizard/images/done.svg","components/wizard/images/provision.svg","components/wizard/images/provision_focus.svg","components/wizard/images/wifi.svg","components/wizard/images/wifi_focus.svg","components/wizard/WizardView.tsx","containers/wizard/Wizard.ts","components/MainView.tsx","App.tsx","reducers/serial.ts","store.ts","index.tsx"],"names":["WizardAction","WizardErrorType","black","grey","white","theme","createMuiTheme","palette","type","primary","main","light","dark","secondary","typography","fontFamily","join","body1","fontSize","body2","h1","fontWeight","h2","h3","h4","h5","h6","padding","overrides","MuiLink","root","color","MuiButton","textTransform","boxShadow","outlinedSecondary","borderColor","boxSizing","backgroundColor","containedPrimary","contained","containedSecondary","MuiCheckbox","MuiRadio","colorSecondary","updateCurrentPort","port","payload","currentPort","updateDetectState","state","detectState","updateCurrentPortOpen","currentPortOpen","updateCurrentAction","currentAction","updateFlashingProperties","flashingProperties","sleep","ms","a","Promise","resolve","setTimeout","Uint8Buffer","size","readOffset","writeOffset","_buffer","_view","this","ArrayBuffer","Uint8Array","length","newSize","newBuffer","newView","forEach","v","i","element","ensure","fill","Math","max","grow","value","byteCount","littleEndian","push","format","pointer","args","data","replace","pushBytes","bytes","set","isPortAlreadyOpenError","e","indexOf","isPortAlreadyClosedError","isSupported","undefined","navigator","raw","RegExp","exec","userAgent","parseInt","getChromeVersion","restart","setSignals","dataTerminalReady","requestToSend","FlashState","checkHardware","loader","EspLoader","debug","logger","console","connect","chipName","chipFamily","family","macAddr","ChipFamily","ESP32","disconnect","log","flash","partitions","flashOptions","options","Object","assign","baudRate","ESP_ROM_BAUD","erase","progressCallBack","flashInput","open","progressCallback","CONNECTING","CONNECTED","loadStub","setBaudRate","ERASING","eraseFlash","ERASED","name","flashData","offset","idx","cnt","WRITING","details","partition","total","progressSerialCallback","SUCCESS","FAILED","close","RiveAnimation","props","useRive","src","path","autoplay","RiveComponent","rive","style","width","height","ScrollableContainer","className","classes","container","darkScrollbar","containerInnerDark","containerInner","children","React","Component","withStyles","createStyles","position","scrollbarColor","overflowY","overflowX","webkitBoxShadow","marginTop","marginBottom","borderRadius","openPort","closePort","closed","error","detect","hardwareValid","Serial","GetStartedView","Box","Grid","justify","direction","Typography","heading","title","illustration","maxWidth","textAlign","spacing","_extends","target","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ConnectError","createElement","cx","cy","r","stroke","clipPath","d","strokeWidth","strokeLinecap","strokeLinejoin","_ref4","id","transform","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","ErrorView","contentContainer","errorHeading","errorType","suggestionBox","suggestionBoxHeading","suggestionHeader","suggestionContent","map","index","suggestionItem","item","suggestionIcon","borderStyle","borderWidth","paddingTop","paddingBottom","flexFlow","marginRight","ConnectView","inProgress","noFilter","window","TOIT_SERIAL_NOFILTER","serialSupported","serialFilter","usbVendorId","setState","serial","requestPort","filters","onDetect","SETUP","DOMException","code","NOT_FOUND_ERR","NETWORK_ERR","UNKNOWN_ERR","onConnect","process","detectHandler","bind","HARDWARE_INVALID","onDisconnect","portHandling","fn","p","scrollableWrapper","containerWrapper","xs","textContent","landingText","Link","href","rel","boldText","link","bottomGrid","bottomInnerGrid","Button","button","disabled","variant","endIcon","onClick","CircularProgress","display","marginLeft","bottom","paddingLeft","paddingRight","border","alignItems","placeContent","alignContent","cursor","dispatch","injectConfig","config","uniqueID","asWords","Uint32Array","buffer","j","getImageDataPosition","imageDataOffset","imageDataSize","imageConfigSize","hashAppend","xorCSOffset","boundary","hash","sha256","subarray","BorderLinearProgress","colorPrimary","bar","borderTopLeftRadius","borderBottomLeftRadius","LinearProgress","FlashLogger","view","currentProgress","message","optionalParams","res","msg","output","text","percent","pop","toFixed","numberOfDots","dotsText","FlashView","unblock","flashState","STARTED","flashPercentage","history","block","tx","confirm","prevProps","prevState","flashDetails","connecting_counter","erase_counter","connectInterval","setInterval","clearInterval","eraseInterval","paths","Map","reject","extract","tar","on","header","stream","next","get","fileBuffer","chunk","copy","err","resume","streamifier","createReadStream","pipe","version","fetch","resp","arrayBuffer","pako","inflate","extractPartitions","properties","reset","loadPartitions","firmware_version","jagBinary","toit","uuidParse","parse","uuidv4","wifi","password","ssid","ubjson","bootloader","FLASH_ERR","DONE","onFlash","descriptionText","percentage","progressbar","progressDescriptionText","onBeforeunload","withRouter","wizard","AdvancedCollapsable","opened","handleButtonClick","Collapse","in","timeout","unmountOnExit","customConfig","dictionaries","adjectives","colors","separator","SetupView","initialState","reactLocalStorage","toString","showPassword","remember","firmwareVersion","firmwareVersions","loading","uniqueNamesGenerator","request","owner","repo","versions","filter","startsWith","loadFirmwareVersions","remove","FLASH","noValidate","autoComplete","form","FormControl","fullWidth","inputRow","InputLabel","Input","onChange","aria-describedby","FormHelperText","htmlFor","endAdornment","InputAdornment","IconButton","aria-label","onMouseDown","Visibility","VisibilityOff","advancedContent","selectText","Select","labelId","MenuItem","Checkbox","checked","beginFlash","initialWizardState","CONNECT","HeaderBodyView","wrapper","HeaderView","clsx","flex","HeaderTitleView","headerTitle","BodyView","body","innerBody","withStyle","flexDirection","flexGrow","overflow","Header","Body","DoneView","location","reload","minWidth","ErrorButtonView","description","buttonFunction","buttonText","buttonTo","component","RouterLink","to","buttonHref","buttonTarget","fillRule","clipRule","StyledBreadcrumbs","justifyContent","Breadcrumbs","WizardView","action","Connect","Setup","Flash","CREATE_PARTITION_ERR","SERIAL_NOT_SUPPORT","query","queryString","search","ondisconnect","navigation","breadcrumbGrid","arrow","Tooltip","focused","unfocused","icon","viewRenderer","MainView","unlisten","menuShown","CssBaseline","content","contentShift","pages","page","routepath","exact","render","linkpath","routeProps","Wizard","selected","findCurrentPageComponent","start","background","default","gridSpacing","transition","transitions","create","easing","sharp","duration","leavingScreen","easeOut","enteringScreen","list","App","initialSerialState","reducers","combineReducers","store","createStore","basename","document","getElementById"],"mappings":"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","file":"static/js/main.d1c9863a.chunk.js","sourcesContent":["// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nexport const UPDATE_CURRENT_ACTION = \"UPDATE_CURRENT_ACTION\";\nexport const UPDATE_FLASHING_PROPERTIES = \"UPDATE_FLASHING_PROPERTIES\";\nexport const UPDATE_INSTALL_TYPE = \"UPDATE_INSTALL_TYPE\";\n\nexport enum WizardAction {\n  CONNECT = 1,\n  SETUP = 2,\n  FLASH = 3,\n  DONE = 4,\n}\n\nexport interface FlashingProperties {\n  ssid: string;\n  password: string;\n  firmware_version: string;\n  name?: string;\n}\n\nexport enum WizardErrorType {\n  //CONNECT AND DETECT\n  UNKNOWN_ERR = \"Contact support\",\n  CREATE_PARTITION_ERR = \"Create partition error\",\n  //Flash and reinstall\n  FLASH_ERR = \"Failed to flash\",\n  SERIAL_NOT_SUPPORT = \"Serial not supported\",\n}\n\nexport interface WizardError {\n  type: WizardErrorType;\n  error: unknown;\n  metadata?: unknown;\n}\n\nexport type UpdateCurrentAction = {\n  type: typeof UPDATE_CURRENT_ACTION;\n  payload: { currentAction: WizardAction | WizardError };\n};\n\nexport const updateCurrentAction = (currentAction: WizardAction | WizardError): UpdateCurrentAction => ({\n  type: UPDATE_CURRENT_ACTION,\n  payload: { currentAction: currentAction },\n});\n\nexport type UpdateFlashingProperties = {\n  type: typeof UPDATE_FLASHING_PROPERTIES;\n  payload: { flashingProperties: FlashingProperties };\n};\n\nexport const updateFlashingProperties = (flashingProperties: FlashingProperties): UpdateFlashingProperties => ({\n  type: UPDATE_FLASHING_PROPERTIES,\n  payload: { flashingProperties: flashingProperties },\n});\n\nexport type WizardReduxAction = UpdateCurrentAction | UpdateFlashingProperties;\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { grey } from \"@material-ui/core/colors\";\n\nexport const unknownColor = grey[700];\n\n// Primary colors\nexport const golden = \"#FAC864\";\nexport const passion = \"#FF8484\";\nexport const dart = \"#5E6FDB\";\nexport const python = \"#55A398\";\nexport const tiger = \"#FFB37C\";\nexport const black = \"#000000\";\nexport const white = \"#ffffff\";\n\n// Shade colors\nexport const goldenShade = \"#FFE598\";\nexport const passionShade = \"#FFB5B5\";\nexport const dartShade = \"#B0B8ED\";\nexport const pythonShade = \"#BDDCD8\";\nexport const tigerShade = \"#FFDBC0\";\nexport const lightGray = \"#C4C4C4\";\nexport const backgroundGray = \"#fbfbfb\";\nexport const dividerGrey = \"#d9d9d9\";\nexport const iconGrey = \"#37352F\";\nexport const iconGreyLight = \"#8793A2\";\n\n// Menu colors\nexport const selected = \"#272D3D\";\n\n// Code tab\nexport const codeBackground = \"#263238\";\nexport const codeMenu = \"#151c1f\";\n\n// Graph colors\nexport const graphColors = [tiger, python, golden, dart];\nexport const lineGraphColors = [dart, golden, tiger, python];\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: {\n      main: black,\n      light: white,\n      dark: black,\n    },\n    secondary: {\n      main: white,\n      light: white,\n      dark: black,\n    },\n  },\n  typography: {\n    fontFamily: [\"Roboto\"].join(\",\"),\n    body1: {\n      fontSize: \"0.85rem\",\n    },\n    body2: {\n      fontSize: \"0.80rem\",\n    },\n    h1: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n      fontSize: \"1.25rem\",\n      fontWeight: 400,\n    },\n    h2: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n      fontSize: \"1.5rem\",\n      fontWeight: 500,\n    },\n    h3: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n      fontSize: \"1.25rem\",\n      fontWeight: 500,\n    },\n    h4: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n    },\n    h5: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n      fontSize: \"1.25rem\",\n    },\n    h6: {\n      fontFamily: [\"Roboto\"].join(\",\"),\n      padding: 0.5,\n      fontSize: \"1rem\",\n    },\n  },\n  overrides: {\n    MuiLink: {\n      root: {\n        color: dart,\n      },\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        boxShadow: \"none\",\n      },\n      outlinedSecondary: {\n        borderColor: black,\n        boxSizing: \"border-box\",\n        color: black,\n        \"&:hover\": {\n          borderColor: black,\n          backgroundColor: lightGray,\n        },\n        backgroundColor: white,\n      },\n      containedPrimary: {\n        backgroundColor: black,\n        color: white,\n        \"&:hover\": {\n          backgroundColor: black,\n          boxShadow: \"none\",\n        },\n        \"&:disabled\": {\n          backgroundColor: lightGray,\n        },\n        boxShadow: \"none\",\n      },\n      contained: {\n        backgroundColor: black,\n        color: white,\n        \"&:hover\": {\n          backgroundColor: black,\n          boxShadow: \"none\",\n        },\n        \"&:disabled\": {\n          backgroundColor: lightGray,\n        },\n        boxShadow: \"none\",\n      },\n      containedSecondary: {\n        backgroundColor: white,\n        color: black,\n        \"&:hover\": {\n          backgroundColor: white,\n          boxShadow: \"none\",\n        },\n        \"&:disabled\": {\n          backgroundColor: lightGray,\n        },\n        boxShadow: \"none\",\n      },\n    },\n    MuiCheckbox: {\n      root: {\n        color: black,\n      },\n    },\n    MuiRadio: {\n      colorSecondary: {\n        \"&$checked\": {\n          color: black,\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nexport const UPDATE_CURRENT_PORT = \"UPDATE_CURRENT_PORT\";\nexport const UPDATE_DETECT_STATE = \"UPDATE_DETECT_STATE\";\nexport const UPDATE_CURRENT_PORT_OPEN = \"UPDATE_CURRENT_PORT_OPEN\";\nexport const UPDATE_WIZARD_SETUP_STATE = \"UPDATE_WIZARD_SETUP_STATE\";\n\ntype UpdateCurrentPort = {\n  type: typeof UPDATE_CURRENT_PORT;\n  payload: { currentPort?: SerialPort };\n};\nexport const updateCurrentPort = (port?: SerialPort): UpdateCurrentPort => ({\n  type: UPDATE_CURRENT_PORT,\n  payload: { currentPort: port },\n});\n\nexport interface DetectState {\n  hardwareValid?: boolean;\n  deviceID?: string;\n}\n\nexport type UpdateDetectState = {\n  type: typeof UPDATE_DETECT_STATE;\n  payload: { detectState?: DetectState };\n};\n\nexport const updateDetectState = (state?: DetectState): UpdateDetectState => ({\n  type: UPDATE_DETECT_STATE,\n  payload: { detectState: state },\n});\n\nexport type UpdateCurrentPortOpen = {\n  type: typeof UPDATE_CURRENT_PORT_OPEN;\n  payload: { currentPortOpen: boolean };\n};\n\nexport const updateCurrentPortOpen = (currentPortOpen: boolean): UpdateCurrentPortOpen => ({\n  type: UPDATE_CURRENT_PORT_OPEN,\n  payload: { currentPortOpen: currentPortOpen },\n});\n\nexport type SerialAction = UpdateCurrentPort | UpdateDetectState | UpdateCurrentPortOpen;\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nexport async function sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport class Uint8Buffer {\n  private readOffset = 0;\n  private writeOffset = 0;\n  private size: number;\n\n  private _buffer: ArrayBuffer;\n  private _view: Uint8Array;\n\n  constructor(size = 64) {\n    this.size = size;\n    this._buffer = new ArrayBuffer(this.size);\n    this._view = new Uint8Array(this._buffer);\n  }\n\n  get length(): number {\n    return this.writeOffset - this.readOffset;\n  }\n\n  shift(): number | undefined {\n    if (this.length <= 0) {\n      return undefined;\n    }\n    return this._view[this.readOffset++];\n  }\n\n  private grow(newSize: number) {\n    const newBuffer = new ArrayBuffer(newSize);\n    const newView = new Uint8Array(newBuffer);\n    this._view.forEach((v, i) => (newView[i] = v));\n    this.size = newSize;\n    this._buffer = newBuffer;\n    this._view = newView;\n  }\n\n  fill(element: number, length = 1): void {\n    this.ensure(length);\n    this._view.fill(element, this.writeOffset, this.writeOffset + length);\n    this.writeOffset += length;\n  }\n\n  private ensure(length: number) {\n    if (this.size - this.writeOffset < length) {\n      const newSize = this.size + Math.max(length, this.size);\n      this.grow(newSize);\n    }\n  }\n\n  private pushBytes(value: number, byteCount: number, littleEndian: boolean) {\n    for (let i = 0; i < byteCount; i++) {\n      if (littleEndian) {\n        this.push((value >> (i * 8)) & 0xff);\n      } else {\n        this.push((value >> ((byteCount - i) * 8)) & 0xff);\n      }\n    }\n  }\n\n  pack(format: string, ...args: number[]): void {\n    let pointer = 0;\n    const data = args;\n    if (format.replace(/[<>]/, \"\").length !== data.length) {\n      throw \"Pack format to Argument count mismatch\";\n    }\n    let littleEndian = true;\n    for (let i = 0; i < format.length; i++) {\n      if (format[i] === \"<\") {\n        littleEndian = true;\n      } else if (format[i] === \">\") {\n        littleEndian = false;\n      } else if (format[i] === \"B\") {\n        this.pushBytes(data[pointer], 1, littleEndian);\n        pointer++;\n      } else if (format[i] === \"H\") {\n        this.pushBytes(data[pointer], 2, littleEndian);\n        pointer++;\n      } else if (format[i] === \"I\") {\n        this.pushBytes(data[pointer], 4, littleEndian);\n        pointer++;\n      } else {\n        throw \"Unhandled character in pack format\";\n      }\n    }\n  }\n\n  reset(): void {\n    this.writeOffset = 0;\n    this.readOffset = 0;\n  }\n\n  push(...bytes: number[]): void {\n    this.ensure(bytes.length);\n    this._view.set(bytes, this.writeOffset);\n    this.writeOffset += bytes.length;\n  }\n\n  copy(bytes: Uint8Array): void {\n    this.ensure(bytes.length);\n    this._view.set(bytes, this.writeOffset);\n    this.writeOffset += bytes.length;\n  }\n\n  view(): Uint8Array {\n    return new Uint8Array(this._buffer, this.readOffset, this.writeOffset);\n  }\n}\n\n/**\n * @name Uint8BufferSlipEncode\n * makes a Uint8Buffer with slipEncoding mechanisms.\n * When slipEncode is enabled it:\n *  * replaces 0xdb with 0xdb 0xdd\n *  * and 0xc0 with 0xdb 0xdc\n * for all write operations.\n */\nexport class Uint8BufferSlipEncode extends Uint8Buffer {\n  slipEncode = false;\n\n  push(...bytes: number[]): void {\n    if (!this.slipEncode) {\n      super.push(...bytes);\n    } else {\n      bytes.forEach((v) => this.slipEncodeByte(v));\n    }\n  }\n\n  reset(): void {\n    this.slipEncode = false;\n    super.reset();\n  }\n\n  copy(bytes: Uint8Array): void {\n    if (!this.slipEncode) {\n      super.copy(bytes);\n    } else {\n      bytes.forEach((v) => this.slipEncodeByte(v));\n    }\n  }\n\n  /**\n   * @name slipEncodeByte\n   * Replaces 0xdb with 0xdb 0xdd and 0xc0 with 0xdb 0xdc\n   */\n  private slipEncodeByte(v: number) {\n    if (v === 0xdb) {\n      super.push(0xdb, 0xdd);\n    } else if (v === 0xc0) {\n      super.push(0xdb, 0xdc);\n    } else {\n      super.push(v);\n    }\n  }\n}\n\nexport function isPortAlreadyOpenError(e: unknown): boolean {\n  return (\"\" + e).indexOf(\"The port is already open\") >= 0;\n}\n\nexport function isPortAlreadyClosedError(e: unknown): boolean {\n  return (\"\" + e).indexOf(\"The port is already closed\") >= 0;\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { ChipFamily, EspLoader, ESP_ROM_BAUD, Logger } from \"@toit/esptool.js\";\nimport { Completer } from \"@toit/esptool.js/build/reader\";\nimport { isTransientError } from \"@toit/esptool.js/build/util\";\nimport { isPortAlreadyOpenError, sleep } from \"./util\";\n\nexport function isSupported(): boolean {\n  return typeof navigator !== undefined && \"serial\" in navigator && getChromeVersion() > 86;\n}\n\nexport async function restart(port: SerialPort): Promise<void> {\n  await port.setSignals({ dataTerminalReady: false });\n  await port.setSignals({ requestToSend: true });\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  await port.setSignals({ requestToSend: false });\n}\n\nclass onCancelReader<T> implements ReadableStreamDefaultReader<T> {\n  private reader: ReadableStreamDefaultReader<T>;\n  private onCancel: (reason?: unknown) => Promise<void>;\n\n  constructor(reader: ReadableStreamDefaultReader<T>, onCancel: (reason?: unknown) => Promise<void>) {\n    this.reader = reader;\n    this.onCancel = onCancel;\n  }\n\n  read(): Promise<ReadableStreamReadResult<T>> {\n    return this.reader.read();\n  }\n\n  releaseLock(): void {\n    return this.reader.releaseLock();\n  }\n\n  get closed(): Promise<void> {\n    return this.reader.closed;\n  }\n\n  async cancel(reason?: unknown): Promise<void> {\n    const res = await this.reader.cancel(reason);\n    await this.onCancel(reason);\n    return res;\n  }\n}\n\nfunction createReadableLineStream(port: SerialPort): ReadableStreamDefaultReader<string> {\n  const textDecoder = new TextDecoderStream();\n  const lineDecoder = new TransformStream(new LineBreakTransformer());\n  if (port.readable === null) {\n    throw \"readable was null on serial port\";\n  }\n  const readableStreamClosed = port.readable.pipeTo(textDecoder.writable);\n  const readableLineClosed = textDecoder.readable.pipeTo(lineDecoder.writable);\n  const reader = lineDecoder.readable.getReader();\n\n  return new onCancelReader<string>(reader, async (reason?: unknown): Promise<void> => {\n    await readableLineClosed.catch(() => {});\n    await readableStreamClosed.catch(() => {});\n  });\n}\n\nexport interface ReadResult {\n  readonly value?: string;\n  readonly closed: boolean;\n}\n\nexport class LineReader {\n  private port: SerialPort;\n  private closing: boolean;\n  private reader: ReadableStreamDefaultReader<string> | undefined;\n  private readCompleter: Completer<void> | undefined;\n  private timeout: NodeJS.Timeout | undefined;\n\n  constructor(port: SerialPort) {\n    this.port = port;\n    this.closing = false;\n    this.reader = createReadableLineStream(port);\n  }\n\n  async read(): Promise<ReadResult> {\n    this.readCompleter = new Completer<void>(undefined);\n    try {\n      return await this._read();\n    } finally {\n      this.readCompleter.complete();\n      this.readCompleter = undefined;\n    }\n  }\n\n  setTimeout(timeoutMs: number): void {\n    this.timeout = setTimeout(() => void this.stop(), timeoutMs);\n  }\n\n  private async _read(): Promise<ReadResult> {\n    while (!this.closing) {\n      if (this.reader === undefined) {\n        this.reader = createReadableLineStream(this.port);\n      }\n      const reader = this.reader;\n\n      try {\n        const { value, done } = await this.reader.read();\n        if (done) {\n          reader.releaseLock();\n          this.reader = undefined;\n          await sleep(1);\n        } else if (value) {\n          return { value: value, closed: false };\n        }\n      } catch (e) {\n        await this.closeReader();\n        if (!isTransientError(e)) {\n          throw e;\n        }\n        await sleep(1);\n      }\n    }\n\n    return { closed: true };\n  }\n\n  private async closeReader(): Promise<void> {\n    const reader = this.reader;\n    if (reader === undefined) {\n      return;\n    }\n\n    try {\n      await reader.cancel();\n    } catch (e) {}\n    reader.releaseLock();\n    this.reader = undefined;\n  }\n\n  public async stop(): Promise<void> {\n    if (this.timeout !== undefined) {\n      clearTimeout(this.timeout);\n      this.timeout = undefined;\n    }\n\n    this.closing = true;\n    await this.closeReader();\n    if (this.readCompleter) {\n      try {\n        await this.readCompleter.promise;\n      } catch (e) {}\n    }\n  }\n}\n\nexport type Partition = {\n  name: string;\n  data: Uint8Array;\n  offset: number;\n};\n\nexport type FlashInput = {\n  state: FlashState;\n  details?: FlashDetails;\n};\n\nexport type FlashOptions = {\n  progressCallback?: (input: FlashInput) => void;\n  //progressSerialCallback will have to be removed when serial wizard has been deployed\n  progressSerialCallback?: (name: string, i: number, total: number) => void;\n  baudRate: number;\n  debug: boolean;\n  logger: Logger;\n  erase: boolean;\n};\n\nexport enum FlashState {\n  STARTED = 0,\n  CONNECTING = 1,\n  CONNECTED = 2,\n  ERASING = 3,\n  ERASED = 4,\n  WRITING = 5,\n  FAILED = 6,\n  SUCCESS = 7,\n}\n\nexport interface FlashDetails {\n  partition: string;\n  idx: number;\n  total: number;\n}\n\nexport async function checkHardware(port: SerialPort): Promise<boolean> {\n  const loader = new EspLoader(port, { debug: false, logger: console });\n\n  try {\n    await loader.connect();\n    const chipName = await loader.chipName();\n    const family = await loader.chipFamily();\n    const macAddr = await loader.macAddr();\n    console.debug(\"chipName\", chipName, \"family\", family, \"mac addr\", macAddr);\n    return family == ChipFamily.ESP32;\n  } catch (e) {\n    console.debug(\"failed to connect\", e);\n    return false;\n  } finally {\n    try {\n      await loader.disconnect();\n    } catch (error) {\n      console.log(\"Disconnect error\", error);\n    }\n  }\n}\n\nexport async function flash(\n  port: SerialPort,\n  partitions: Partition[],\n  flashOptions?: Partial<FlashOptions>\n): Promise<void> {\n  const options: FlashOptions = Object.assign(\n    {\n      baudRate: ESP_ROM_BAUD,\n      debug: false,\n      logger: console,\n      erase: false,\n      progressCallBack: (flashInput: FlashInput) => {},\n    },\n    flashOptions || {}\n  );\n\n  try {\n    await port.open({ baudRate: options.baudRate });\n  } catch (e) {\n    if (!isPortAlreadyOpenError(e)) {\n      throw e;\n    }\n  }\n  try {\n    const loader = new EspLoader(port, { debug: options.debug, logger: options.logger });\n    if (options.progressCallback) options.progressCallback({ state: FlashState.CONNECTING });\n    try {\n      await loader.connect();\n      if (options.progressCallback) options.progressCallback({ state: FlashState.CONNECTED });\n      options.logger.log(\"writing device partitions\");\n      await loader.loadStub();\n      await loader.setBaudRate(options.baudRate, 921600);\n\n      if (options.erase) {\n        if (options.progressCallback) options.progressCallback({ state: FlashState.ERASING });\n        await loader.eraseFlash();\n        if (options.progressCallback) options.progressCallback({ state: FlashState.ERASED });\n      }\n\n      for (let i = 0; i < partitions.length; i++) {\n        options.logger.log(\"\\nWriting partition: \" + partitions[i].name);\n        await loader.flashData(partitions[i].data, partitions[i].offset, function (idx, cnt) {\n          if (options.progressCallback)\n            options.progressCallback({\n              state: FlashState.WRITING,\n              details: {\n                partition: partitions[i].name,\n                total: cnt,\n                idx: idx,\n              },\n            });\n          if (options.progressSerialCallback) {\n            options.progressSerialCallback(partitions[i].name, idx, cnt);\n          }\n        });\n        await sleep(100);\n      }\n      if (options.progressCallback) options.progressCallback({ state: FlashState.SUCCESS });\n    } finally {\n      try {\n        await loader.disconnect();\n      } catch (error) {\n        console.log(\"Disconnect error\", error);\n      }\n    }\n  } catch (e) {\n    if (options.progressCallback) options.progressCallback({ state: FlashState.FAILED });\n    throw e;\n  } finally {\n    await port.close();\n  }\n}\n\nexport class LineBreakTransformer {\n  private chunks = \"\";\n\n  constructor() {\n    // A container for holding stream data until a new line.\n    this.chunks = \"\";\n  }\n\n  transform(chunk: string, controller: TransformStreamDefaultController<string>): void {\n    // Append new chunks to existing chunks.\n    this.chunks += chunk;\n    // For each line breaks in chunks, send the parsed lines out.\n    const lines = this.chunks.split(\"\\r\\n\");\n    this.chunks = lines.pop() || \"\";\n    lines.forEach((line) => controller.enqueue(line));\n  }\n\n  flush(controller: TransformStreamDefaultController<string>): void {\n    // When the stream is closed, flush any remaining chunks out.\n    controller.enqueue(this.chunks);\n  }\n}\n\nfunction getChromeVersion(): number {\n  const re = new RegExp(/Chrom(e|ium)\\/([0-9]+)\\./);\n  const raw = re.exec(navigator.userAgent);\n  return raw ? parseInt(raw[2], 10) : -1;\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport React from \"react\";\nimport { useRive } from \"rive-react\";\n\ninterface RiveAnimationProps {\n  height: number;\n  width: number;\n  path: string;\n}\n\nfunction RiveAnimation(props: RiveAnimationProps): JSX.Element {\n  const { RiveComponent, rive } = useRive({\n    src: props.path,\n    autoplay: true,\n  });\n\n  return (\n    // The animation will fit to the parent element, so we set a large height\n    // and width for this example\n    // We set the height and width dynamically and therefore use the style attribute\n    <div style={{ width: props.width, height: props.height }}>\n      <RiveComponent />\n    </div>\n  );\n}\n\nexport default RiveAnimation;\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { createStyles, Theme, WithStyles, withStyles } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    container: {\n      position: \"relative\",\n      height: \"100%\",\n    },\n    containerInner: {\n      scrollbarColor: \"dark\",\n      position: \"absolute\",\n      height: \"100%\",\n      width: \"100%\",\n      overflowY: \"auto\",\n      overflowX: \"hidden\",\n    },\n    containerInnerDark: {\n      scrollbarColor: \"dark\",\n      position: \"absolute\",\n      height: \"100%\",\n      width: \"100%\",\n      overflowY: \"auto\",\n      overflowX: \"hidden\",\n      \"&::-webkit-scrollbar\": {\n        width: \"0.4rem\",\n      },\n      \"&::-webkit-scrollbar-track\": {\n        boxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\n        webkitBoxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\n        marginTop: 2,\n        marginBottom: 2,\n      },\n      \"&::-webkit-scrollbar-thumb\": {\n        borderRadius: 4,\n        backgroundColor: \"rgba(255,255,255,.2)\",\n      },\n    },\n  });\n\ninterface ScrollableContainerProps extends WithStyles<typeof styles> {\n  backgroundColor?: string;\n  darkScrollbar?: boolean;\n}\n\nclass ScrollableContainer extends React.Component<ScrollableContainerProps> {\n  render() {\n    return (\n      <div\n        className={this.props.classes.container}\n        style={{ backgroundColor: this.props.backgroundColor !== undefined ? this.props.backgroundColor : \"\" }}\n      >\n        <div\n          className={\n            this.props.darkScrollbar === true\n              ? this.props.classes.containerInnerDark\n              : this.props.classes.containerInner\n          }\n        >\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ScrollableContainer);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { ESP_ROM_BAUD } from \"@toit/esptool.js\";\nimport { DetectState } from \"../../actions/serial\";\nimport * as Serial from \"../../misc/serial\";\nimport { isPortAlreadyClosedError, isPortAlreadyOpenError } from \"../../misc/serial/util\";\n\n//Serial function for opening port\nexport async function openPort({ updateCurrentPortOpen, currentPort, currentPortOpen }: PortOptions): Promise<void> {\n  if (!currentPort || currentPortOpen) {\n    return;\n  }\n\n  try {\n    await currentPort.open({ baudRate: ESP_ROM_BAUD });\n  } catch (e) {\n    if (!isPortAlreadyOpenError(e)) {\n      throw e;\n    }\n  }\n  updateCurrentPortOpen(true);\n}\n\nexport interface PortOptions {\n  readonly updateCurrentPortOpen: (state: boolean) => void;\n  readonly currentPort?: SerialPort;\n  readonly currentPortOpen?: boolean;\n}\n\n//Serial function for closing port\nexport async function closePort({ updateCurrentPortOpen, currentPort, currentPortOpen }: PortOptions): Promise<void> {\n  if (!currentPort || !currentPortOpen) {\n    return;\n  }\n\n  let closed = false;\n  try {\n    await currentPort?.close();\n    closed = true;\n  } catch (e) {\n    if (!isPortAlreadyClosedError(e)) {\n      console.error(\"failed to close port\", e);\n    } else {\n      closed = true;\n    }\n  }\n  if (closed) {\n    updateCurrentPortOpen(false);\n  }\n}\n\nexport interface DetectOptions extends PortOptions {\n  readonly currentPort?: SerialPort;\n  readonly currentPortOpen?: boolean;\n  readonly updateDetectState: (state: DetectState) => void;\n}\n\nexport async function detect({ updateDetectState, currentPort, currentPortOpen }: DetectOptions): Promise<void> {\n  if (!currentPort || !currentPortOpen) {\n    return;\n  }\n  let hardwareValid = false;\n  try {\n    hardwareValid = await Serial.checkHardware(currentPort);\n  } catch (e) {\n    hardwareValid = false;\n    throw e;\n  }\n  updateDetectState({ hardwareValid: hardwareValid });\n  if (!hardwareValid) {\n    return;\n  }\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Box, createStyles, Grid, Theme, Typography, withStyles, WithStyles } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    container: {\n      maxWidth: 450,\n      textAlign: \"center\",\n    },\n    children: { marginTop: theme.spacing(1.5) },\n    heading: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n  });\n\ninterface GetStartedProps extends WithStyles<typeof styles> {\n  title: string;\n  illustration: React.ReactNode;\n  children?: React.ReactChild | React.ReactChild[];\n}\n\nclass GetStartedView extends React.Component<GetStartedProps> {\n  componentDidMount(): void {}\n\n  componentDidUpdate(): void {}\n\n  render(): JSX.Element {\n    return (\n      <Box className={this.props.classes.container}>\n        <Grid container justify=\"center\" direction=\"row\">\n          <Grid container justify=\"center\">\n            <Typography className={this.props.classes.heading}>{this.props.title}</Typography>\n          </Grid>\n          <Grid container justify=\"center\" className={this.props.classes.children}>\n            {this.props.children}\n          </Grid>\n          <Grid container justify=\"center\">\n            {this.props.illustration}\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n}\n\nexport default withStyles(styles)(GetStartedView);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 13.8858,\n  cy: 14.0299,\n  r: 12.7408,\n  fill: \"#FFE598\",\n  stroke: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0_1365:8777)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.0762 14.582H18.9234\",\n  stroke: \"black\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.5 10.1602L18.9236 14.5838L14.5 19.0074\",\n  stroke: \"black\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0_1365:8777\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 13,\n  height: 15,\n  fill: \"white\",\n  transform: \"translate(8 7)\"\n})));\n\nvar SvgSuggestion = function SvgSuggestion(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSuggestion, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/suggestion.9108c758.svg\";\nexport { ForwardRef as ReactComponent };","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  createStyles,\n  Grid,\n  Link,\n  Theme,\n  Typography,\n  withStyles,\n  WithStyles,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { FaChevronRight } from \"react-icons/fa\";\nimport { DetectState } from \"../../actions/serial\";\nimport { FlashingProperties, WizardAction, WizardError, WizardErrorType } from \"../../actions/wizard\";\nimport { white } from \"../../assets/theme/theme\";\nimport * as Serial from \"../../misc/serial\";\nimport RiveAnimation from \"../general/rive/RiveAnimation\";\nimport ScrollableContainer from \"../general/ScrollableContainer\";\nimport { closePort, detect, openPort } from \"../general/util\";\nimport GetStartedView from \"../serial/GetStartedView\";\nimport ErrorView from \"./ErrorView\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    contentContainer: {\n      maxWidth: 440,\n    },\n    textContent: {\n      paddingTop: theme.spacing(5),\n    },\n    landingText: {\n      display: \"inline-block\",\n    },\n    boldText: {\n      fontWeight: 500,\n      display: \"inline-block\",\n    },\n    button: {\n      height: 36,\n      width: 100,\n      marginRight: theme.spacing(0.5),\n      marginLeft: theme.spacing(0.5),\n    },\n    bottomGrid: {\n      height: 68,\n      position: \"fixed\",\n      bottom: 16,\n      width: 440,\n    },\n    bottomInnerGrid: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: white,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(4),\n      boxShadow: \"0 2px 4px rgb(1 14 40 / 5%)\",\n      border: \"1px solid #e5e8ed\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: 4,\n      placeContent: \"center\",\n    },\n    scrollableWrapper: {\n      height: \"calc(100% - 8px)\",\n      width: \"100%\",\n    },\n    containerWrapper: {\n      alignContent: \"space-between\",\n      paddingBottom: theme.spacing(10),\n    },\n    link: {\n      cursor: \"pointer\",\n    },\n  });\n\ninterface ConnectProps extends WithStyles<typeof styles> {\n  currentPort?: SerialPort;\n  detectState?: DetectState;\n  currentPortOpen?: boolean;\n  flashingProperties?: FlashingProperties;\n  updateDetectState: (state: DetectState) => void;\n  updateCurrentPort: (state: SerialPort | undefined) => void;\n  updateCurrentPortOpen: (state: boolean) => void;\n  updateFlashingProperties: (state: FlashingProperties) => void;\n  updateCurrentAction: (state: WizardAction | WizardError) => void;\n}\n\nexport const siliconlabs = \"https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers\";\n\nenum ConnectError {\n  NOT_FOUND_ERR = \"Not found\",\n  NETWORK_ERR = \"Network error\",\n  HARDWARE_INVALID = \"Hardware invalid\",\n  UNKNOWN_ERR = \"Unkonwn error\",\n}\n\ninterface ConnectState {\n  inProgress: boolean;\n  noFilter: boolean;\n  serialSupported: boolean;\n  error?: ConnectError;\n}\n\nclass ConnectView extends React.Component<ConnectProps, ConnectState> {\n  constructor(props: ConnectProps) {\n    super(props);\n\n    this.state = {\n      inProgress: false,\n      noFilter: (window as unknown as { TOIT_SERIAL_NOFILTER: boolean | undefined }).TOIT_SERIAL_NOFILTER || false,\n      serialSupported: Serial.isSupported(),\n    };\n  }\n\n  async onConnect() {\n    const serialFilter: SerialPortFilter[] = this.state.noFilter\n      ? []\n      : [\n          // ftdi chip vendor\n          { usbVendorId: 0x0403 },\n          // silicon labs\n          { usbVendorId: 0x10c4 },\n          // Evoluent\n          { usbVendorId: 0x1a7c },\n          // WCH\n          { usbVendorId: 0x1a86 },\n          // Prokufc Technology, Inc.\n          { usbVendorId: 0x067b },\n          // pycom (Microchip Technology Inc.)\n          { usbVendorId: 0x04d8 },\n        ];\n    this.setState({\n      inProgress: true,\n    });\n    try {\n      const port = await navigator.serial.requestPort({\n        filters: serialFilter,\n      });\n      if (this.props.currentPort !== undefined && this.props.currentPortOpen) {\n        console.log(\"Closing ports\");\n        await this.props.currentPort.close();\n      }\n      this.props.updateCurrentPort(port);\n      await this.onDetect();\n      this.setState({ error: undefined });\n      this.props.updateCurrentAction(WizardAction.SETUP);\n    } catch (e) {\n      console.log(\"Failed to connect, \", e);\n      if (e instanceof DOMException && e.code === DOMException.NOT_FOUND_ERR) {\n        this.setState({ error: ConnectError.NOT_FOUND_ERR, noFilter: true });\n      } else if (e instanceof DOMException && e.code === DOMException.NETWORK_ERR) {\n        this.setState({ error: ConnectError.NETWORK_ERR });\n      } else {\n        this.setState({ error: ConnectError.UNKNOWN_ERR });\n      }\n      await this.disconnect();\n    }\n  }\n\n  private async connect() {\n    try {\n      await this.onConnect();\n    } catch (e) {\n      console.log(\"Connect error\", e);\n    }\n  }\n\n  async onDisconnect() {\n    if (this.state.serialSupported) {\n      this.setState({\n        inProgress: true,\n      });\n      try {\n        await closePort(this.props);\n      } catch (e) {\n        console.log(\"Failed to close ports on disconnect\", e);\n      }\n    }\n    this.props.updateCurrentPort(undefined);\n    this.setState({\n      inProgress: false,\n    });\n  }\n\n  async onDetect() {\n    if (!this.props.currentPort || this.props.detectState) {\n      return;\n    }\n    await this.process(true, this.detectHandler.bind(this));\n  }\n\n  async detectHandler(port: SerialPort): Promise<void> {\n    try {\n      await detect(this.props);\n    } catch (e) {\n      console.log(\"detect error\", e);\n    }\n    if (!this.props.detectState?.hardwareValid) {\n      this.setState({ error: ConnectError.HARDWARE_INVALID });\n      await this.disconnect();\n      return;\n    }\n  }\n\n  async disconnect() {\n    try {\n      await this.onDisconnect();\n    } catch (e) {\n      console.log(\"Disconnect error\", e);\n    }\n  }\n\n  async onRestart() {\n    try {\n      await this.process(true, async (port: SerialPort): Promise<void> => {\n        await Serial.restart(port);\n      });\n    } catch (e) {\n      console.log(\"Failed restarting\", e);\n    }\n  }\n\n  async process(portHandling: boolean, fn: (serialPort: SerialPort) => Promise<void>) {\n    if (!this.props.currentPort) {\n      return;\n    }\n    const p = async (currentPort: SerialPort | undefined): Promise<void> => {\n      if (portHandling) {\n        await openPort(this.props);\n      }\n      try {\n        this.setState({\n          inProgress: true,\n        });\n        if (currentPort) await fn(currentPort);\n      } finally {\n        if (portHandling) {\n          try {\n            await closePort(this.props);\n          } catch (e) {\n            console.log(\"got error trying to close port\" + e);\n          }\n        }\n        this.setState({\n          inProgress: false,\n        });\n      }\n    };\n    await p(this.props.currentPort);\n  }\n\n  render() {\n    return (\n      <Box className={this.props.classes.scrollableWrapper}>\n        <ScrollableContainer>\n          <Grid className={this.props.classes.containerWrapper} container direction=\"row\" justify=\"center\">\n            <Grid container justify=\"center\" className={this.props.classes.contentContainer}>\n              <Grid item xs={12} className={this.props.classes.textContent}>\n                {this.state.error === undefined ? (\n                  <GetStartedView\n                    title=\"1. Connect the ESP32\"\n                    illustration={<RiveAnimation width={300} height={220} path=\"/animations/connect_device.riv\" />}\n                  >\n                    <Typography className={this.props.classes.landingText}>\n                      Install the USB serial driver from{\" \"}\n                      <Link href={siliconlabs} target=\"_blank\" rel=\"noreferrer\">\n                        Silicon Labs\n                      </Link>\n                      . Connect the ESP32 to your computer with a USB cable. Then, press the{\" \"}\n                      <Typography className={this.props.classes.boldText}>Ready</Typography> button and choose the port\n                      of the ESP32.\n                    </Typography>\n                  </GetStartedView>\n                ) : this.state.error === ConnectError.NOT_FOUND_ERR ? (\n                  <ErrorView\n                    errorType={ConnectError.NOT_FOUND_ERR}\n                    suggestionHeader=\"Suggestion to fix the error\"\n                    suggestionContent={[\n                      <Typography key={1}>\n                        Check that the ESP32 is physically connected to your computer and that the USB cable can\n                        transfer data\n                      </Typography>,\n                      <Typography key={2}>\n                        Install the\n                        <Link\n                          className={this.props.classes.link}\n                          color=\"inherit\"\n                          href=\"https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers\"\n                          target=\"_blank\"\n                          rel=\"noreferrer\"\n                        >\n                          {\" \"}\n                          USB serial driver{\" \"}\n                        </Link>{\" \"}\n                        from Silicon Labs on your computer\n                      </Typography>,\n                      <Typography key={3}>\n                        See the supported ESP32 models at the\n                        <Link\n                          className={this.props.classes.link}\n                          color=\"inherit\"\n                          href=\"https://github.com/toitlang/toit/wiki/Devices\"\n                          target=\"_blank\"\n                          rel=\"noreferrer\"\n                        >\n                          {\" \"}\n                          Toitlang wiki{\" \"}\n                        </Link>{\" \"}\n                      </Typography>,\n                    ]}\n                  />\n                ) : this.state.error === ConnectError.NETWORK_ERR ? (\n                  <ErrorView\n                    errorType={ConnectError.NETWORK_ERR}\n                    suggestionHeader=\"Suggestion to fix the error\"\n                    suggestionContent={[\n                      <Typography key={1}>Close other programs that block the use of serial communication</Typography>,\n                    ]}\n                  />\n                ) : this.state.error === ConnectError.HARDWARE_INVALID ? (\n                  <ErrorView\n                    errorType={ConnectError.HARDWARE_INVALID}\n                    suggestionHeader=\"Suggestion to fix the error\"\n                    suggestionContent={[\n                      <Typography key={1}>Check that your device is an ESP32 and not another type of chip</Typography>,\n                      <Typography key={2}>Check that you have chosen the correct USB port</Typography>,\n                    ]}\n                  />\n                ) : (\n                  <ErrorView\n                    errorType={WizardErrorType.UNKNOWN_ERR}\n                    suggestionHeader=\"An unknown error occurred\"\n                    suggestionContent={[<Typography key={1}>Unknown error occured. Used CLI instead</Typography>]}\n                  />\n                )}\n              </Grid>\n              <Grid container justify=\"center\" className={this.props.classes.bottomGrid}>\n                <Grid item className={this.props.classes.bottomInnerGrid}>\n                  <Button\n                    className={this.props.classes.button}\n                    disabled={this.state.inProgress}\n                    variant=\"contained\"\n                    size=\"large\"\n                    endIcon={this.state.inProgress ? undefined : <FaChevronRight />}\n                    onClick={() => this.connect()}\n                  >\n                    {this.state.inProgress ? (\n                      <CircularProgress size={20} color=\"primary\" />\n                    ) : !this.state.error ? (\n                      <>Ready</>\n                    ) : (\n                      <>Retry</>\n                    )}\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ScrollableContainer>\n      </Box>\n    );\n  }\n}\n\nexport default withStyles(styles)(ConnectView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { createStyles, Grid, Theme, Typography, withStyles, WithStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport { black, passion, white } from \"../../assets/theme/theme\";\nimport { ReactComponent as SuggestionIcon } from \"./images/suggestion.svg\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    contentContainer: {\n      maxWidth: 440,\n      width: 440,\n    },\n    suggestionBox: {\n      borderStyle: \"solid\",\n      borderColor: black,\n      backgroundColor: white,\n      borderRadius: 4,\n      borderWidth: 1,\n      padding: theme.spacing(2),\n      paddingTop: theme.spacing(3),\n      textAlign: \"start\",\n      marginTop: theme.spacing(2),\n    },\n\n    suggestionBoxHeading: {\n      fontWeight: 200,\n      fontSize: \"1.5rem\",\n      paddingBottom: theme.spacing(2),\n    },\n    suggestionItem: {\n      flexFlow: \"row\",\n      paddingBottom: theme.spacing(2),\n    },\n    suggestionIcon: {\n      marginTop: theme.spacing(0),\n      marginRight: theme.spacing(1),\n    },\n    errorHeading: {\n      paddingTop: theme.spacing(2),\n      fontSize: \"2rem\",\n      color: passion,\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n    heading: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n  });\n\ninterface ErrorProps extends WithStyles<typeof styles> {\n  errorType?: string;\n  suggestionContent: React.ReactElement[];\n  suggestionHeader?: string;\n}\n\nclass ErrorView extends React.Component<ErrorProps> {\n  constructor(props: ErrorProps) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Grid className={this.props.classes.contentContainer}>\n        <Typography className={this.props.classes.errorHeading}>{this.props.errorType || \"Error\"}</Typography>\n        <Grid container className={this.props.classes.suggestionBox} justify=\"flex-start\">\n          <Typography className={this.props.classes.suggestionBoxHeading}>\n            {this.props.suggestionHeader || \"Suggestion to fix the error\"}\n          </Typography>\n          {this.props.suggestionContent.map((element, index) => (\n            <Grid container className={this.props.classes.suggestionItem} key={index}>\n              <Grid item>\n                <SuggestionIcon className={this.props.classes.suggestionIcon} />\n              </Grid>\n              <Grid item>{element}</Grid>\n            </Grid>\n          ))}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(ErrorView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport { connect } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport {\n  DetectState,\n  SerialAction,\n  updateCurrentPort,\n  updateCurrentPortOpen,\n  updateDetectState,\n} from \"../../actions/serial\";\nimport {\n  FlashingProperties,\n  updateCurrentAction,\n  updateFlashingProperties,\n  WizardAction,\n  WizardError,\n  WizardReduxAction,\n} from \"../../actions/wizard\";\nimport ConnectView from \"../../components/wizard/ConnectView\";\nimport { RootState } from \"../../store\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentPort: state.serial.currentPort,\n    detectState: state.serial.detectState,\n    currentPortOpen: state.serial.currentPortOpen,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<RootState, void, SerialAction | WizardReduxAction>) => {\n  return {\n    updateDetectState: (state: DetectState) => {\n      dispatch(updateDetectState(state));\n    },\n    updateCurrentPort: (state: SerialPort | undefined) => {\n      dispatch(updateCurrentPort(state));\n    },\n    updateCurrentPortOpen: (state: boolean) => {\n      dispatch(updateCurrentPortOpen(state));\n    },\n    updateCurrentAction: (state: WizardAction | WizardError) => {\n      dispatch(updateCurrentAction(state));\n    },\n    updateFlashingProperties: (state: FlashingProperties) => {\n      dispatch(updateFlashingProperties(state));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConnectView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport sha256 from \"fast-sha256\";\n\n// These two are the current offsets of the config data in the system image.\n// We could auto-detect them from the bin file, but they are only used files\n// from the current SDK so there's no need.\nconst IMAGE_DATA_SIZE = 1024;\nconst IMAGE_DATA_OFFSET = 296;\n\n// This is the offset in old SDKs where there are no magic numbers marking\n// the location of the offset data\nconst LEGACY_IMAGE_DATA_SIZE = 1024;\nconst LEGACY_IMAGE_DATA_OFFSET = 69888;\n\nconst IMAGE_DATA_MAGIC_1 = 0x7017da7a;\nconst IMAGE_DATA_MAGIC_2 = 0xc09f19;\n\nfunction getImageDataPosition(bytes: Uint8Array): [number, number] {\n  const asWords = new Uint32Array(bytes.buffer);\n  const WORD_SIZE = 4;\n  for (let i = 0; i < asWords.length; i++) {\n    const word_1 = asWords[i];\n    if (word_1 == IMAGE_DATA_MAGIC_1) {\n      // Search for the end at the (0.5k + word_size) position and at\n      // subsequent positions up to a data area of 4k.  We only search at these\n      // round numbers in order to reduce the chance of false positives.\n      for (let j = 0x80 + 1; j <= 0x400 + 1 && i + j < asWords.length; j += 0x80) {\n        const word_2 = asWords[i + j];\n        if (word_2 == IMAGE_DATA_MAGIC_2) {\n          return [(i + 1) * WORD_SIZE, (j - 1) * WORD_SIZE];\n        }\n      }\n    }\n  }\n  // No magic numbers were found so the image is from a legacy SDK that has the\n  // image data at a fixed offset.\n  return [LEGACY_IMAGE_DATA_OFFSET, LEGACY_IMAGE_DATA_SIZE];\n}\n\nexport function injectConfig(partition: Uint8Array, config: Uint8Array, uniqueID: Uint8Array): Uint8Array {\n  const [imageDataOffset, imageDataSize] = getImageDataPosition(partition);\n  const imageConfigSize = imageDataSize - uniqueID.length;\n\n  // We need to regenerate the checksums for the image. Checksum format is described here:\n  // https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/system/app_image_format.html\n\n  // NOTE this will not work if we enable CONFIG_SECURE_SIGNED_APPS_NO_SECURE_BOOT or CONFIG_SECURE_BOOT_ENABLED\n\n  const hashAppend = partition[23] == 1;\n\n  let xorCSOffset = partition.length - 1;\n  if (hashAppend) {\n    xorCSOffset = partition.length - 1 - 32;\n  }\n\n  for (let i = imageDataOffset; i < imageDataOffset + imageDataSize; i++) {\n    partition[xorCSOffset] ^= partition[i];\n  }\n\n  if (config.length > imageConfigSize) {\n    throw \"data too big to inline into binary\";\n  }\n\n  partition.fill(0, imageDataOffset, imageDataOffset + imageDataSize); // Zero out area.\n  partition.set(config, imageDataOffset);\n  partition.set(uniqueID, imageDataOffset + imageConfigSize);\n\n  for (let i = imageDataOffset; i < imageDataOffset + imageDataSize; i++) {\n    partition[xorCSOffset] ^= partition[i];\n  }\n\n  if (hashAppend) {\n    const boundary = partition.length - 32;\n    const hash = sha256(partition.subarray(0, boundary));\n    partition.set(hash, boundary);\n  }\n\n  return partition;\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Box, createStyles, Grid, LinearProgress, Theme, Typography, withStyles, WithStyles } from \"@material-ui/core\";\nimport { UnregisterCallback } from \"history\";\nimport React from \"react\";\nimport { Beforeunload } from \"react-beforeunload\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport pako from \"pako\";\nimport tar from \"tar-stream\";\nimport streamifier from \"streamifier\";\nimport { DetectState } from \"../../actions/serial\";\nimport { FlashingProperties, WizardAction, WizardError, WizardErrorType } from \"../../actions/wizard\";\nimport { black, pythonShade } from \"../../assets/theme/theme\";\nimport * as Serial from \"../../misc/serial\";\nimport ScrollableContainer from \"../general/ScrollableContainer\";\nimport { closePort } from \"../general/util\";\nimport { Uint8Buffer } from \"../../misc/serial/util\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport uuidParse from \"uuid-parse\";\nimport * as ubjson from \"@shelacek/ubjson\";\nimport { injectConfig } from \"../../misc/config/inject\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    contentContainer: {\n      maxWidth: 440,\n    },\n    textContent: {\n      paddingTop: theme.spacing(5),\n    },\n    scrollableWrapper: {\n      height: \"calc(100% - 8px)\",\n      width: \"100%\",\n    },\n    containerWrapper: {\n      alignContent: \"space-between\",\n      paddingBottom: theme.spacing(10),\n      textAlign: \"center\",\n    },\n    heading: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n    descriptionText: {\n      fontSize: 16,\n    },\n    percentage: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 700,\n    },\n    progressbar: {\n      width: 260,\n    },\n    progressDescriptionText: {\n      paddingTop: theme.spacing(0.5),\n      fontSize: 11,\n    },\n  });\n\nconst BorderLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 16,\n      borderRadius: 8,\n      borderWidth: 2,\n      borderStyle: \"solid\",\n      borderColor: black,\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n      borderTopLeftRadius: 8,\n      borderBottomLeftRadius: 8,\n      backgroundColor: pythonShade,\n    },\n  })\n)(LinearProgress);\n\ninterface FlashProps extends WithStyles<typeof styles>, RouteComponentProps {\n  flashingProperties?: FlashingProperties;\n  currentPort?: SerialPort;\n  detectState?: DetectState;\n  currentPortOpen?: boolean;\n  updateDetectState: (state?: DetectState) => void;\n  updateCurrentPortOpen: (state: boolean) => void;\n  updateFlashingProperties: (state: FlashingProperties) => void;\n  updateCurrentAction: (state: WizardAction | WizardError) => void;\n}\n\ninterface FlashState {\n  serialSupported: boolean;\n  inProgress: boolean;\n  output: OutputItem[];\n  flashState: Serial.FlashState;\n  flashDetails?: Serial.FlashDetails;\n  flashPercentage: number;\n}\n\ninterface JaguarPartitions {\n  bootloader?: Uint8Array;\n  partitions?: Uint8Array;\n  toit?: Uint8Array;\n}\n\nexport type OutputItem = {\n  type: \"out\" | \"err\";\n  text: string;\n};\n\nexport class FlashLogger {\n  private view: FlashView;\n  private currentProgress?: string;\n\n  constructor(view: FlashView) {\n    this.view = view;\n  }\n\n  debug(message?: unknown, ...optionalParams: unknown[]): void {\n    console.debug(message, ...optionalParams);\n  }\n\n  format(message?: unknown, ...optionalParams: unknown[]): string {\n    let res = \"\";\n    if (message !== undefined) {\n      res += message;\n    }\n    optionalParams.forEach((v) => (res += \" \" + v));\n    return res;\n  }\n\n  log(message?: unknown, ...optionalParams: unknown[]): void {\n    console.log(message, ...optionalParams);\n    const msg = this.format(message, ...optionalParams);\n    this.view.setState((state, props) => ({\n      output: [...state.output, { type: \"out\", text: msg }],\n    }));\n  }\n\n  reset(): void {\n    this.view.setState({\n      output: [],\n    });\n  }\n\n  error(message?: unknown, ...optionalParams: unknown[]): void {\n    console.error(message, ...optionalParams);\n    const msg = this.format(message, ...optionalParams);\n    this.view.setState((state, props) => ({\n      output: [...state.output, { type: \"err\", text: msg }],\n    }));\n  }\n\n  progress(item: string, i: number, total: number): void {\n    const percent = ((i + 1) / total) * 100;\n\n    this.view.setState((state, props) => {\n      const res: OutputItem[] = [...state.output];\n      if (item == this.currentProgress) {\n        res.pop();\n      }\n      this.currentProgress = item;\n\n      res.push({ text: percent.toFixed(2) + \"%\", type: \"out\" });\n      return {\n        output: res,\n      };\n    });\n  }\n\n  //Displays animated dots while waiting for the loop to finish\n  waiting(item: string, i: number, total: number): void {\n    const numberOfDots = i % 4;\n    let dotsText = \"\";\n    for (i = 0; i < numberOfDots; i++) {\n      dotsText += \".\";\n    }\n\n    this.view.setState((state, props) => {\n      const res: OutputItem[] = [...state.output];\n      if (item == this.currentProgress) {\n        res.pop();\n      }\n      this.currentProgress = item;\n\n      res.push({ text: item + dotsText, type: \"out\" });\n      return {\n        output: res,\n      };\n    });\n  }\n}\n\nclass FlashView extends React.Component<FlashProps, FlashState> {\n  constructor(props: FlashProps) {\n    super(props);\n\n    this.state = {\n      serialSupported: Serial.isSupported(),\n      inProgress: false,\n      output: [],\n      flashState: Serial.FlashState.STARTED,\n      flashPercentage: 0,\n    };\n  }\n\n  private unblock: UnregisterCallback | undefined;\n  async componentDidMount() {\n    this.unblock = this.props.history.block((tx) => {\n      if (!this.state.inProgress || window.confirm(\"This will stop the flash process!\")) {\n        if (this.unblock !== undefined) {\n          this.unblock();\n          this.unblock = undefined;\n        }\n        return;\n      }\n      return false;\n    });\n\n    if (this.props.flashingProperties) {\n      await this.flash(this.props.flashingProperties);\n    } else {\n      console.log(\"No flashing properties available\");\n      this.props.updateCurrentAction(WizardAction.SETUP);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.unblock !== undefined) {\n      this.unblock();\n      this.unblock = undefined;\n    }\n  }\n\n  componentDidUpdate(prevProps: FlashProps, prevState: FlashState) {\n    if (\n      this.state.flashState !== prevState.flashState ||\n      (this.state.flashDetails && this.state.flashDetails !== prevState.flashDetails)\n    ) {\n      let connecting_counter = 0;\n      let erase_counter = 10;\n      const erased = 35;\n      switch (this.state.flashState) {\n        case Serial.FlashState.CONNECTING:\n          const connectInterval = setInterval(() => {\n            if (this.state.flashState === Serial.FlashState.CONNECTING) {\n              connecting_counter++;\n              if (connecting_counter < erase_counter) {\n                this.setState({ flashPercentage: connecting_counter });\n              } else {\n                // TODO: Show a this takes longer than normal.\n                clearInterval(connectInterval);\n              }\n            } else {\n              clearInterval(connectInterval);\n            }\n          }, 200);\n          this.setState({ flashPercentage: connecting_counter });\n          break;\n        case Serial.FlashState.CONNECTED:\n          this.setState({ flashPercentage: erase_counter });\n          break;\n        case Serial.FlashState.ERASING:\n          const eraseInterval = setInterval(() => {\n            if (this.state.flashState === Serial.FlashState.ERASING) {\n              erase_counter++;\n              if (erase_counter < erased) {\n                this.setState({ flashPercentage: erase_counter });\n              } else {\n                // TODO: Show a this takes longer than normal.\n                clearInterval(eraseInterval);\n              }\n            } else {\n              clearInterval(eraseInterval);\n            }\n          }, 1000);\n          // TODO: DO THIS NON BLOCKING\n          // if (connecting_counter < erase_counter)\n          //   const interval = setInterval(() => this.setState({ flashPercentage: erase_counter++ }), 200);\n          this.setState({ flashPercentage: erase_counter });\n          break;\n        case Serial.FlashState.ERASED:\n          this.setState({ flashPercentage: erased });\n          break;\n        case Serial.FlashState.WRITING:\n          if (this.state.flashDetails)\n            this.setState({\n              flashPercentage: erased + (this.state.flashDetails?.idx / this.state.flashDetails?.total) * 65,\n            });\n          else console.log(\"No flashDetails provided\");\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  extractPartitions(buffer: Uint8Array): Promise<JaguarPartitions> {\n    const paths = new Map<string, string>([\n      [\"image/bootloader/bootloader.bin\", \"bootloader\"],\n      [\"image/partitions.bin\", \"partitions\"],\n      [\"image/toit.bin\", \"toit\"],\n    ]);\n\n    return new Promise((resolve, reject) => {\n      const extract = tar.extract();\n      const res: JaguarPartitions = {};\n      extract.on(\"entry\", function (header, stream, next) {\n        const partition = paths.get(header.name);\n        if (partition !== undefined) {\n          const fileBuffer: Uint8Buffer = new Uint8Buffer();\n          stream.on(\"data\", (chunk: Uint8Array) => fileBuffer.copy(chunk));\n          stream.on(\"end\", () => {\n            res[partition as keyof JaguarPartitions] = fileBuffer.view();\n            next(); // ready for next entry\n          });\n        } else {\n          stream.on(\"end\", function () {\n            next(); // ready for next entry\n          });\n        }\n\n        stream.on(\"error\", (err) => {\n          reject(err);\n        });\n\n        stream.resume(); // just auto drain the stream\n      });\n\n      extract.on(\"finish\", () => resolve(res));\n      streamifier.createReadStream(buffer).pipe(extract);\n    });\n  }\n\n  async loadPartitions(version: string): Promise<JaguarPartitions> {\n    const resp = await fetch(`https://archive.toit.io/jaguar/${version}/image.tar.gz`);\n    const text = await resp.arrayBuffer();\n    const data = pako.inflate(new Uint8Array(text));\n    return await this.extractPartitions(data);\n  }\n\n  async onFlash(properties: FlashingProperties): Promise<boolean> {\n    if (!this.props.currentPort) {\n      return false;\n    }\n    const port = this.props.currentPort;\n\n    if (this.props.currentPortOpen) {\n      await closePort(this.props);\n    }\n    const logger = new FlashLogger(this);\n    logger.reset();\n\n    const detectState = this.props.detectState;\n    // let partitions: Serial.Partition[];\n    // TODO: Fetch partitions.\n\n    const partitions = await this.loadPartitions(properties.firmware_version);\n\n    let jagBinary = partitions.toit || new Uint8Array();\n    const uniqueID = new Uint8Array(uuidParse.parse(uuidv4()));\n    const config = {\n      name: properties.name || \"\",\n      id: uuidv4(),\n      wifi: {\n        password: properties.password,\n        ssid: properties.ssid,\n      },\n    };\n    jagBinary = injectConfig(jagBinary, new Uint8Array(ubjson.encode(config)), uniqueID);\n\n    try {\n      this.props.updateDetectState(undefined);\n      await Serial.flash(\n        port,\n        [\n          {\n            name: \"bootloader\",\n            data: partitions.bootloader || new Uint8Array(),\n            offset: 0x1000,\n          },\n          {\n            name: \"partitions\",\n            data: partitions.partitions || new Uint8Array(),\n            offset: 0x8000,\n          },\n          {\n            name: \"jaguar\",\n            data: jagBinary,\n            offset: 0x10000,\n          },\n        ],\n        {\n          progressCallback: (flashInput: Serial.FlashInput) =>\n            this.setState({ flashState: flashInput.state, flashDetails: flashInput.details }),\n          logger: logger,\n          erase: false,\n        }\n      );\n    } catch (e) {\n      logger.error(\"failed to flash firmware\", e);\n      logger.log(\"Try again. If you are using a dev-board, try holding down the boot button while flashing\");\n      this.props.updateCurrentAction({\n        error: e,\n        type: WizardErrorType.FLASH_ERR,\n      });\n      return false;\n    }\n\n    this.props.updateCurrentAction(WizardAction.DONE);\n    return true;\n  }\n\n  async flash(properties: FlashingProperties) {\n    this.setState({\n      inProgress: true,\n    });\n    try {\n      const flashed = await this.onFlash(properties);\n    } catch (e) {\n      console.log(\"Uncaught exception from flash\", e);\n    } finally {\n      this.setState({\n        inProgress: false,\n      });\n    }\n  }\n\n  render() {\n    const state: FlashState = this.state || {};\n    return (\n      <Box className={this.props.classes.scrollableWrapper}>\n        <ScrollableContainer>\n          <Grid className={this.props.classes.containerWrapper} container direction=\"row\" justify=\"center\">\n            <Grid container justify=\"center\" className={this.props.classes.contentContainer}>\n              <Grid item xs={12} className={this.props.classes.textContent}>\n                <Typography className={this.props.classes.heading}>3. Flash</Typography>\n                <Typography className={this.props.classes.descriptionText}>\n                  Hold tight while your device is being flashed with Jaguar\n                </Typography>\n              </Grid>\n              <Grid item xs={12} className={this.props.classes.textContent}>\n                <Typography className={this.props.classes.percentage}>\n                  {this.state.flashPercentage.toFixed(0)}%\n                </Typography>\n                <Grid container justify=\"center\">\n                  <BorderLinearProgress\n                    variant=\"determinate\"\n                    value={this.state.flashPercentage}\n                    className={this.props.classes.progressbar}\n                  />\n                </Grid>\n                <Typography className={this.props.classes.progressDescriptionText}>\n                  {state.flashState === Serial.FlashState.STARTED\n                    ? \"Warming up\"\n                    : state.flashState === Serial.FlashState.CONNECTING\n                    ? \"Connecting...\"\n                    : state.flashState === Serial.FlashState.CONNECTED\n                    ? \"Connected\"\n                    : state.flashState === Serial.FlashState.ERASING\n                    ? \"Preparing your device\"\n                    : state.flashState === Serial.FlashState.ERASED\n                    ? \"Device is ready\"\n                    : state.flashState === Serial.FlashState.WRITING\n                    ? \"Installing Jaguar\"\n                    : state.flashState === Serial.FlashState.SUCCESS\n                    ? \"Successfully installed Jaguar\"\n                    : \"An error occured\"}\n                </Typography>\n                {/*\n                TODO: Add support for serial output here\n                */}\n              </Grid>\n            </Grid>\n          </Grid>\n        </ScrollableContainer>\n        {this.state.inProgress && <Beforeunload onBeforeunload={() => \"This will stop the flash process!\"} />}\n      </Box>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(FlashView));\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport { connect } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { DetectState, SerialAction, updateCurrentPortOpen, updateDetectState } from \"../../actions/serial\";\nimport {\n  FlashingProperties,\n  updateCurrentAction,\n  updateFlashingProperties,\n  WizardAction,\n  WizardError,\n  WizardReduxAction,\n} from \"../../actions/wizard\";\nimport FlashView from \"../../components/wizard/FlashView\";\nimport { RootState } from \"../../store\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentPort: state.serial.currentPort,\n    detectState: state.serial.detectState,\n    currentPortOpen: state.serial.currentPortOpen,\n    flashingProperties: state.wizard.flashingProperties,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<RootState, void, SerialAction | WizardReduxAction>) => {\n  return {\n    updateDetectState: (state?: DetectState) => {\n      dispatch(updateDetectState(state));\n    },\n    updateCurrentPortOpen: (state: boolean) => {\n      dispatch(updateCurrentPortOpen(state));\n    },\n    updateCurrentAction: (state: WizardAction | WizardError) => {\n      dispatch(updateCurrentAction(state));\n    },\n    updateFlashingProperties: (state: FlashingProperties) => {\n      dispatch(updateFlashingProperties(state));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FlashView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Button, Grid, Typography, WithStyles, withStyles } from \"@material-ui/core\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport { createStyles, Theme } from \"@material-ui/core/styles\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n    },\n    button: {\n      height: 36,\n    },\n  });\n\ninterface AdvancedCollapsableProps extends WithStyles<typeof styles> {\n  children: React.ReactNode;\n}\n\ninterface AdvancedCollapsableState {\n  open: boolean;\n}\n\nclass AdvancedCollapsable extends React.Component<AdvancedCollapsableProps, AdvancedCollapsableState> {\n  handleButtonClick(opened: boolean) {\n    this.setState({ open: !opened });\n  }\n\n  render() {\n    const state: AdvancedCollapsableState = this.state || {};\n    return (\n      <Grid className={this.props.classes.root} direction=\"row\">\n        <Grid item container>\n          <Button\n            variant=\"outlined\"\n            className={this.props.classes.button}\n            onClick={() => this.handleButtonClick(state.open)}\n          >\n            {state.open ? <ExpandLess /> : <ExpandMore />}\n            <Typography>{state.open ? \"Collapse\" : \"Advanced\"}</Typography>\n          </Button>\n        </Grid>\n        <Collapse in={state.open} timeout=\"auto\" unmountOnExit>\n          {this.props.children}\n        </Collapse>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(AdvancedCollapsable);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  createStyles,\n  FormControl,\n  FormHelperText,\n  Grid,\n  IconButton,\n  Input,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Select,\n  Theme,\n  Typography,\n  withStyles,\n  WithStyles,\n} from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { request } from \"@octokit/request\";\nimport React from \"react\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport { adjectives, colors, Config, uniqueNamesGenerator } from \"unique-names-generator\";\nimport { DetectState } from \"../../actions/serial\";\nimport { FlashingProperties, WizardAction, WizardError } from \"../../actions/wizard\";\nimport { white } from \"../../assets/theme/theme\";\nimport ScrollableContainer from \"../general/ScrollableContainer\";\nimport AdvancedCollapsable from \"../serial/AdvancedCollapsable\";\n\nconst customConfig: Config = {\n  dictionaries: [adjectives, colors],\n  separator: \"-\",\n  length: 2,\n};\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    contentContainer: {\n      maxWidth: 440,\n    },\n    textContent: {\n      paddingTop: theme.spacing(5),\n    },\n    button: {\n      height: 36,\n      width: 120,\n      marginRight: theme.spacing(0.5),\n      marginLeft: theme.spacing(0.5),\n    },\n    bottomGrid: {\n      height: 68,\n      position: \"fixed\",\n      bottom: 16,\n      width: 440,\n    },\n    bottomInnerGrid: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: white,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(4),\n      boxShadow: \"0 2px 4px rgb(1 14 40 / 5%)\",\n      border: \"1px solid #e5e8ed\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: 4,\n      placeContent: \"center\",\n    },\n    scrollableWrapper: {\n      height: \"calc(100% - 8px)\",\n      width: \"100%\",\n    },\n    containerWrapper: {\n      alignContent: \"space-between\",\n      paddingBottom: theme.spacing(10),\n      textAlign: \"center\",\n    },\n    heading: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n    form: {\n      width: \"100%\",\n    },\n    inputRow: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    advancedContent: {\n      textAlign: \"start\",\n    },\n    selectText: {\n      marginTop: theme.spacing(2),\n      fontSize: \"0.625rem\",\n    },\n  });\n\ninterface SetupProps extends WithStyles<typeof styles> {\n  detectState?: DetectState;\n  flashingProperties?: FlashingProperties;\n  updateFlashingProperties: (state: FlashingProperties) => void;\n  updateCurrentAction: (state: WizardAction | WizardError) => void;\n}\n\ninterface SetupState {\n  ssid: string;\n  password: string;\n  firmwareVersion: string;\n  showPassword: boolean;\n  remember: boolean;\n  loading: boolean;\n  firmwareVersions: string[];\n  name?: string;\n}\n\n//Name constants used in localStorage\nconst toitWifiSSID = \"toit_wifi_ssid\";\nconst toitWifiPassword = \"toit_wifi_password\";\nconst toitRemember = \"toit_remember\";\n\nclass SetupView extends React.Component<SetupProps, SetupState> {\n  initialState = {\n    ssid: reactLocalStorage.get(toitWifiSSID, \"\").toString() || \"\",\n    password: reactLocalStorage.get(toitWifiPassword, \"\").toString() || \"\",\n    showPassword: false,\n    remember: reactLocalStorage.get(\"toit_remember\", false),\n    firmwareVersion: \"latest\",\n    firmwareVersions: [],\n    loading: true,\n    name: uniqueNamesGenerator(customConfig),\n  };\n\n  constructor(props: SetupProps) {\n    super(props);\n  }\n\n  async loadFirmwareVersions() {\n    const res = await request(\"GET /repos/{owner}/{repo}/releases\", {\n      owner: \"toitlang\",\n      repo: \"jaguar\",\n    });\n\n    const versions: string[] = res.data.map((v) => v.name || \"\").filter((version) => version.startsWith(\"v\"));\n    this.setState({\n      loading: false,\n      firmwareVersion: versions.length > 0 ? versions[0] : this.state.firmwareVersion,\n      firmwareVersions: versions,\n    });\n  }\n\n  componentDidMount() {\n    this.setState(this.initialState);\n    void this.loadFirmwareVersions();\n  }\n\n  beginFlash(flashingProperties: FlashingProperties) {\n    this.props.updateFlashingProperties({\n      ssid: flashingProperties.ssid,\n      password: flashingProperties.password,\n      firmware_version: flashingProperties.firmware_version,\n      name: flashingProperties.name,\n    });\n    if (this.state.remember) {\n      reactLocalStorage.set(toitWifiSSID, this.state.ssid);\n      reactLocalStorage.set(toitWifiPassword, this.state.password);\n      reactLocalStorage.set(toitRemember, this.state.remember);\n    } else {\n      reactLocalStorage.remove(toitWifiSSID);\n      reactLocalStorage.remove(toitWifiPassword);\n      reactLocalStorage.remove(toitRemember);\n    }\n    this.props.updateCurrentAction(WizardAction.FLASH);\n  }\n\n  render() {\n    const state: SetupState = this.state || {};\n    return (\n      <Box className={this.props.classes.scrollableWrapper}>\n        <ScrollableContainer>\n          <Grid className={this.props.classes.containerWrapper} container direction=\"row\" justify=\"center\">\n            <Grid container justify=\"center\" className={this.props.classes.contentContainer}>\n              <Grid item xs={12} className={this.props.classes.textContent}>\n                <Typography className={this.props.classes.heading}>2. WiFi credentials</Typography>\n                <Typography variant=\"body2\">Connect the ESP32 to your WiFi</Typography>\n              </Grid>\n              <Grid item xs={12} className={this.props.classes.textContent}>\n                <form noValidate autoComplete=\"off\" className={this.props.classes.form}>\n                  <FormControl fullWidth className={this.props.classes.inputRow}>\n                    <InputLabel>Network name (SSID) *</InputLabel>\n                    <Input\n                      className={this.props.classes.inputRow}\n                      type=\"text\"\n                      value={state.ssid}\n                      onChange={(e) => this.setState(() => ({ ssid: e.target.value || \"\" }))}\n                      autoComplete=\"off\"\n                      aria-describedby=\"helper-text\"\n                    />\n                    <FormHelperText id=\"helper-text\">Note: The ESP32 only supports 2.4GHz networks</FormHelperText>\n                  </FormControl>\n                  <FormControl fullWidth className={this.props.classes.inputRow}>\n                    <InputLabel htmlFor=\"standard-adornment-password\">Password *</InputLabel>\n                    <Input\n                      className={this.props.classes.inputRow}\n                      type={state.showPassword ? \"text\" : \"password\"}\n                      value={state.password}\n                      autoComplete=\"one-time-code\"\n                      onChange={(e) => this.setState(() => ({ password: e.target.value || \"\" }))}\n                      endAdornment={\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={() => this.setState({ showPassword: !state.showPassword })}\n                            onMouseDown={() => this.setState({ showPassword: !state.showPassword })}\n                          >\n                            {state.showPassword ? <Visibility /> : <VisibilityOff />}\n                          </IconButton>\n                        </InputAdornment>\n                      }\n                    />\n                  </FormControl>\n                  <AdvancedCollapsable>\n                    <Grid container className={this.props.classes.advancedContent}>\n                      <FormControl fullWidth className={this.props.classes.inputRow}>\n                        <InputLabel>Device name</InputLabel>\n                        <Input\n                          className={this.props.classes.inputRow}\n                          type=\"text\"\n                          value={state.name}\n                          onChange={(e) => this.setState(() => ({ name: e.target.value || \"\" }))}\n                          autoComplete=\"off\"\n                          aria-describedby=\"helper-text\"\n                        />\n                        <FormHelperText id=\"helper-text\">\n                          Optional: If not set, your device will be assigned a random name\n                        </FormHelperText>\n                      </FormControl>\n                      {state.loading === false && (\n                        <>\n                          <InputLabel htmlFor=\"Version\" className={this.props.classes.selectText}>\n                            Firmware version\n                          </InputLabel>\n                          <Select\n                            labelId=\"select-firmware-name\"\n                            id=\"firmware-name-selector\"\n                            value={state.firmwareVersion}\n                            fullWidth\n                          >\n                            {state.firmwareVersions?.map((version) => {\n                              return (\n                                <MenuItem\n                                  key={version}\n                                  value={version}\n                                  onClick={() =>\n                                    this.setState({\n                                      firmwareVersion: version,\n                                    })\n                                  }\n                                >\n                                  {version}\n                                </MenuItem>\n                              );\n                            })}\n                          </Select>\n                        </>\n                      )}\n                      <Grid container item xs={12} className={this.props.classes.inputRow}>\n                        <Grid container item xs={8} alignContent=\"center\">\n                          <Typography>Remember settings locally?</Typography>\n                        </Grid>\n                        <Grid container item xs={4} justify=\"flex-end\">\n                          <Checkbox\n                            value={state.remember}\n                            checked={state.remember}\n                            onClick={() => this.setState({ remember: !state.remember })}\n                            color=\"primary\"\n                          />\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </AdvancedCollapsable>\n                </form>\n              </Grid>\n              <Grid container justify=\"center\" className={this.props.classes.bottomGrid}>\n                <Grid item className={this.props.classes.bottomInnerGrid}>\n                  <Button\n                    className={this.props.classes.button}\n                    variant=\"contained\"\n                    size=\"large\"\n                    disabled={state.ssid === \"\" || state.loading}\n                    onClick={() =>\n                      this.beginFlash({\n                        ssid: state.ssid,\n                        password: state.password,\n                        firmware_version: state.firmwareVersion,\n                        name: state.name,\n                      })\n                    }\n                  >\n                    <>Flash &gt;</>\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ScrollableContainer>\n      </Box>\n    );\n  }\n}\n\nexport default withStyles(styles)(SetupView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport { connect } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { SerialAction, updateCurrentPort, updateCurrentPortOpen } from \"../../actions/serial\";\nimport {\n  FlashingProperties,\n  updateCurrentAction,\n  updateFlashingProperties,\n  WizardAction,\n  WizardError,\n  WizardReduxAction,\n} from \"../../actions/wizard\";\nimport SetupView from \"../../components/wizard/SetupView\";\nimport { RootState } from \"../../store\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    detectState: state.serial.detectState,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<RootState, void, SerialAction | WizardReduxAction>) => {\n  return {\n    updateCurrentPort: (state: SerialPort | undefined) => {\n      dispatch(updateCurrentPort(state));\n    },\n    updateCurrentPortOpen: (state: boolean) => {\n      dispatch(updateCurrentPortOpen(state));\n    },\n    updateCurrentAction: (state: WizardAction | WizardError) => {\n      dispatch(updateCurrentAction(state));\n    },\n    updateFlashingProperties: (state: FlashingProperties) => {\n      dispatch(updateFlashingProperties(state));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SetupView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport {\n  FlashingProperties,\n  UPDATE_CURRENT_ACTION,\n  UPDATE_FLASHING_PROPERTIES,\n  WizardAction,\n  WizardError,\n  WizardReduxAction,\n} from \"../actions/wizard\";\n\nexport type WizardState = {\n  readonly currentAction: WizardAction | WizardError;\n  readonly flashingProperties?: FlashingProperties;\n};\n\nexport const initialWizardState: WizardState = {\n  currentAction: WizardAction.CONNECT,\n};\n\nexport default function (state: WizardState = initialWizardState, action: WizardReduxAction): WizardState {\n  switch (action.type) {\n    case UPDATE_FLASHING_PROPERTIES:\n      return {\n        ...state,\n        flashingProperties: action.payload.flashingProperties,\n      };\n    case UPDATE_CURRENT_ACTION:\n      return {\n        ...state,\n        currentAction: action.payload.currentAction,\n      };\n    default:\n      return state;\n  }\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { createStyles, Theme, WithStyles } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/styles\";\nimport clsx from \"clsx\";\nimport React from \"react\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    wrapper: {\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      height: \"100%\",\n    },\n    header: {\n      flexGrow: 0,\n      width: \"100%\",\n    },\n    headerTitle: {\n      padding: theme.spacing(1),\n      flex: 1,\n      overflow: \"hidden\",\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    body: {\n      flexGrow: 1,\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\",\n    },\n    innerBody: {\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\",\n      position: \"relative\",\n    },\n    flex: {\n      display: \"flex\",\n    },\n  });\n\ntype HeaderBodyProps = WithStyles<typeof styles>;\n\nclass HeaderBodyView extends React.Component<HeaderBodyProps> {\n  render() {\n    return <div className={this.props.classes.wrapper}>{this.props.children}</div>;\n  }\n}\n\ninterface HeaderProps extends WithStyles<typeof styles> {\n  flex?: boolean;\n}\n\nclass HeaderView extends React.Component<HeaderProps> {\n  render() {\n    return (\n      <div className={clsx(this.props.classes.header, this.props.flex ? this.props.classes.flex : \"\")}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nclass HeaderTitleView extends React.Component<WithStyles<typeof styles>> {\n  render() {\n    return <div className={this.props.classes.headerTitle}>{this.props.children}</div>;\n  }\n}\n\ntype BodyProps = WithStyles<typeof styles>;\n\nclass BodyView extends React.Component<BodyProps> {\n  render() {\n    return (\n      <div className={this.props.classes.body}>\n        <div className={this.props.classes.innerBody}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nconst withStyle = withStyles(styles);\nconst Header = withStyle(HeaderView);\nconst HeaderTitle = withStyle(HeaderTitleView);\nconst Body = withStyle(BodyView);\n\nexport { Header, HeaderTitle, Body };\nexport default withStyle(HeaderBodyView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Box, Button, createStyles, Grid, Theme, withStyles, WithStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport { white } from \"../../assets/theme/theme\";\nimport ScrollableContainer from \"../general/ScrollableContainer\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    bottomGrid: {\n      height: 68,\n      position: \"fixed\",\n      bottom: 16,\n      width: 440,\n    },\n    bottomInnerGrid: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: white,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(4),\n      boxShadow: \"0 2px 4px rgb(1 14 40 / 5%)\",\n      border: \"1px solid #e5e8ed\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: 4,\n      placeContent: \"center\",\n    },\n    scrollableWrapper: {\n      height: \"calc(100% - 8px)\",\n      width: \"100%\",\n    },\n    containerWrapper: {\n      alignContent: \"space-between\",\n      paddingBottom: theme.spacing(10),\n    },\n    button: {\n      minWidth: 100,\n      height: 36,\n      marginRight: theme.spacing(0.5),\n      marginLeft: theme.spacing(0.5),\n    },\n  });\n\ntype DoneProps = WithStyles<typeof styles>;\n\nclass DoneView extends React.Component<DoneProps> {\n  render() {\n    return (\n      <Box className={this.props.classes.scrollableWrapper}>\n        <ScrollableContainer>\n          <Grid className={this.props.classes.containerWrapper} container direction=\"row\" justify=\"center\">\n            <Grid container justify=\"center\" className={this.props.classes.bottomGrid}>\n              <Grid item className={this.props.classes.bottomInnerGrid}>\n                <Button\n                  className={this.props.classes.button}\n                  variant=\"contained\"\n                  size=\"large\"\n                  onClick={() => window.location.reload()}\n                >\n                  Set up another\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ScrollableContainer>\n      </Box>\n    );\n  }\n}\n\nexport default withStyles(styles)(DoneView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Box, Button, createStyles, Grid, Theme, Typography, withStyles, WithStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { passion, white } from \"../../assets/theme/theme\";\nimport ScrollableContainer from \"../general/ScrollableContainer\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    contentContainer: {\n      maxWidth: 440,\n      width: 440,\n    },\n    errorHeading: {\n      paddingTop: theme.spacing(2),\n      fontSize: \"2rem\",\n      color: passion,\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n    heading: {\n      fontSize: \"2rem\",\n      fontFamily: \"Clash Display\",\n      fontWeight: 500,\n    },\n    scrollableWrapper: {\n      height: \"calc(100% - 8px)\",\n      width: \"100%\",\n    },\n    containerWrapper: {\n      alignContent: \"space-between\",\n      paddingBottom: theme.spacing(10),\n      textAlign: \"center\",\n    },\n    button: {\n      minWidth: 100,\n      height: 36,\n      marginRight: theme.spacing(0.5),\n      marginLeft: theme.spacing(0.5),\n    },\n    bottomGrid: {\n      height: 68,\n      position: \"fixed\",\n      bottom: 16,\n      width: 440,\n    },\n    bottomInnerGrid: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: white,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(4),\n      boxShadow: \"0 2px 4px rgb(1 14 40 / 5%)\",\n      border: \"1px solid #e5e8ed\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: 4,\n      placeContent: \"center\",\n    },\n  });\n\ninterface ErrorButtonProps extends WithStyles<typeof styles> {\n  buttonText: string;\n  buttonFunction?: () => void;\n  buttonTo?: string;\n  buttonHref?: string;\n  buttonTarget?: string;\n  description?: string | false;\n  title?: string;\n}\n\nclass ErrorButtonView extends React.Component<ErrorButtonProps> {\n  constructor(props: ErrorButtonProps) {\n    super(props);\n  }\n\n  render() {\n    const description =\n      this.props.description !== false\n        ? this.props.description ||\n          \"Try again. If it keeps failing, please contact us by writing a message in the chat and we will help you.\"\n        : undefined;\n    return (\n      <Box className={this.props.classes.scrollableWrapper}>\n        <ScrollableContainer>\n          <Grid className={this.props.classes.containerWrapper} container direction=\"row\" justify=\"center\">\n            <Grid className={this.props.classes.contentContainer}>\n              <Typography className={this.props.classes.errorHeading}>{this.props.title || \"Error\"}</Typography>\n              {this.props.children && this.props.children}\n              {description && <Typography>{description}</Typography>}\n              <Grid container justify=\"center\" className={this.props.classes.bottomGrid}>\n                <Grid item className={this.props.classes.bottomInnerGrid}>\n                  {this.props.buttonFunction ? (\n                    <Button\n                      className={this.props.classes.button}\n                      variant=\"contained\"\n                      size=\"large\"\n                      onClick={this.props.buttonFunction}\n                    >\n                      {this.props.buttonText}\n                    </Button>\n                  ) : this.props.buttonTo ? (\n                    <Button\n                      className={this.props.classes.button}\n                      variant=\"contained\"\n                      size=\"large\"\n                      component={RouterLink}\n                      to={this.props.buttonTo}\n                    >\n                      {this.props.buttonText}\n                    </Button>\n                  ) : (\n                    <Button\n                      className={this.props.classes.button}\n                      variant=\"contained\"\n                      size=\"large\"\n                      component=\"a\"\n                      href={this.props.buttonHref}\n                      target={this.props.buttonTarget}\n                    >\n                      {this.props.buttonText}\n                    </Button>\n                  )}\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ScrollableContainer>\n      </Box>\n    );\n  }\n}\n\nexport default withStyles(styles)(ErrorButtonView);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.83691 6.78653C1.33393 6.78653 0.92618 7.19428 0.92618 7.69727C0.92618 8.20025 1.33393 8.608 1.83691 8.608V6.78653ZM62.4809 8.34125C62.8366 7.98559 62.8366 7.40894 62.4809 7.05328L56.685 1.25741C56.3294 0.901742 55.7527 0.901742 55.3971 1.25741C55.0414 1.61307 55.0414 2.18971 55.3971 2.54538L60.5489 7.69727L55.3971 12.8492C55.0414 13.2048 55.0414 13.7815 55.3971 14.1371C55.7527 14.4928 56.3294 14.4928 56.685 14.1371L62.4809 8.34125ZM1.83691 8.608H61.8369V6.78653H1.83691V8.608Z\",\n  fill: \"#5B5B5B\"\n});\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 63,\n    height: 15,\n    viewBox: \"0 0 63 15\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.443709fa.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.6703,\n  cy: 24.9033,\n  r: 24.0999,\n  fill: \"black\",\n  stroke: \"black\",\n  strokeWidth: 1.60666\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28.2899 41.1163V32.7912C28.6182 32.7715 28.9292 32.6321 29.1641 32.3974C29.418 32.1437 29.5625 31.7992 29.5664 31.4388V31.4379V30.1485V30.1485V30.1485V30.1485V30.1485V30.1484V30.1484V30.1484V30.1484V30.1483V30.1483V30.1483V30.1482V30.1482V30.1481V30.1481V30.148V30.148V30.1479V30.1479V30.1478V30.1478V30.1477V30.1476V30.1476V30.1475V30.1474V30.1473V30.1473V30.1472V30.1471V30.147V30.1469V30.1468V30.1468V30.1467V30.1466V30.1465V30.1464V30.1463V30.1462V30.1461V30.1459V30.1458V30.1457V30.1456V30.1455V30.1454V30.1452V30.1451V30.145V30.1449V30.1447V30.1446V30.1445V30.1443V30.1442V30.144V30.1439V30.1438V30.1436V30.1435V30.1433V30.1432V30.143V30.1428V30.1427V30.1425V30.1424V30.1422V30.142V30.1418V30.1417V30.1415V30.1413V30.1411V30.141V30.1408V30.1406V30.1404V30.1402V30.14V30.1398V30.1397V30.1395V30.1393V30.1391V30.1389V30.1387V30.1384V30.1382V30.138V30.1378V30.1376V30.1374V30.1372V30.137V30.1367V30.1365V30.1363V30.1361V30.1358V30.1356V30.1354V30.1352V30.1349V30.1347V30.1344V30.1342V30.134V30.1337V30.1335V30.1332V30.133V30.1327V30.1325V30.1322V30.132V30.1317V30.1315V30.1312V30.1309V30.1307V30.1304V30.1301V30.1299V30.1296V30.1293V30.1291V30.1288V30.1285V30.1282V30.128V30.1277V30.1274V30.1271V30.1268V30.1265V30.1263V30.126V30.1257V30.1254V30.1251V30.1248V30.1245V30.1242V30.1239V30.1236V30.1233V30.123V30.1227V30.1224V30.1221V30.1218V30.1215V30.1211V30.1208V30.1205V30.1202V30.1199V30.1196V30.1192V30.1189V30.1186V30.1183V30.1179V30.1176V30.1173V30.117V30.1166V30.1163V30.116V30.1156V30.1153V30.115V30.1146V30.1143V30.1139V30.1136V30.1132V30.1129V30.1126V30.1122V30.1119V30.1115V30.1112V30.1108V30.1105V30.1101V30.1098V30.1094V30.109V30.1087V30.1083V30.108V30.1076V30.1072V30.1069V30.1065V30.1061V30.1058V30.1054V30.105V30.1047V30.1043V30.1039V30.1036V30.1032V30.1028V30.1024V30.1021V30.1017V30.1013V30.1009V30.1005V30.1002V30.0998V30.0994V30.099V30.0986V30.0982V30.0979V30.0975V30.0971V30.0967V30.0963V30.0959V30.0955V30.0951V30.0947V30.0943V30.0939V30.0935V30.0931V30.0928V30.0924V30.092V30.0916V30.0912V30.0908V30.0904V30.0899V30.0895V30.0891V30.0887V30.0883V30.0879V30.0875V30.0871V30.0867V30.0863V30.0859V30.0855V30.0851V30.0847V30.0842V30.0838V30.0834V30.083V30.0826V30.0822V30.0818V30.0813V30.0809V30.0805V30.0801V30.0797V30.0792V30.0788V30.0784V30.078V30.0776V30.0771V30.0767V30.0763V30.0759V30.0755V30.075V30.0746V30.0742V30.0738V30.0733V30.0729V30.0725V30.072V30.0716V30.0712V30.0708V30.0703V30.0699V30.0695V30.069V30.0686V30.0682V30.0678V30.0673V30.0669V30.0665V30.066V30.0656V30.0652V30.0647V30.0643V30.0639V30.0634V30.063V30.0626V30.0621V30.0617V30.0613V30.0608V30.0604V30.06V30.0595V30.0591V30.0586V30.0582V30.0578V30.0573V30.0569V30.0565V30.056V30.0556V30.0552V30.0547V30.0543V30.0538V30.0534V30.053V30.0525V30.0521V30.0517V30.0512V30.0508V30.0503V30.0499V30.0495V30.049V30.0486V30.0481V30.0477V30.0473V30.0468V30.0464V30.046V30.0455V30.0451V30.0446V30.0442V30.0438V30.0433V30.0429V30.0425V30.042V30.0416V30.0411V30.0407V30.0403V30.0398V30.0394V30.039V30.0385V30.0381V30.0377V30.0372V30.0368V30.0364V30.0359V30.0355V30.035V30.0346V30.0342V30.034C29.7766 29.9427 29.9669 29.8102 30.1263 29.644C30.1265 29.6439 30.1266 29.6437 30.1268 29.6435L31.5133 28.243L31.5134 28.2429C31.7025 28.0516 31.8511 27.8236 31.9505 27.5727C32.0497 27.3221 32.0977 27.0538 32.0916 26.7841V19.2324C32.1054 18.8141 31.9888 18.4018 31.7582 18.0537C31.5377 17.7209 31.2236 17.4628 30.8567 17.3124L30.8567 12.7423L30.8567 12.7417C30.8529 12.2103 30.6412 11.7017 30.2676 11.327C29.8939 10.9523 29.3886 10.7419 28.8617 10.7419H22.5072C21.9803 10.7419 21.4749 10.9523 21.1013 11.327C20.7276 11.7017 20.516 12.2103 20.5121 12.7417H20.5121V12.7423V17.3115C20.1402 17.4575 19.8203 17.7136 19.5946 18.0467C19.3586 18.3953 19.2378 18.8102 19.2496 19.2322V26.7841C19.2434 27.0539 19.2914 27.3221 19.3906 27.5727C19.49 27.8236 19.6387 28.0516 19.8277 28.2429L19.8278 28.243L21.2143 29.6435C21.2145 29.6437 21.2147 29.6439 21.2148 29.6441C21.3742 29.8102 21.5645 29.9427 21.7747 30.034V30.0342V30.0346V30.035V30.0354V30.0358V30.0361V30.0365V30.0369V30.0373V30.0377V30.0381V30.0385V30.039V30.0394V30.0398V30.0402V30.0406V30.041V30.0414V30.0418V30.0422V30.0426V30.043V30.0434V30.0438V30.0443V30.0447V30.0451V30.0455V30.0459V30.0463V30.0467V30.0471V30.0476V30.048V30.0484V30.0488V30.0492V30.0497V30.0501V30.0505V30.0509V30.0513V30.0518V30.0522V30.0526V30.053V30.0534V30.0539V30.0543V30.0547V30.0551V30.0556V30.056V30.0564V30.0569V30.0573V30.0577V30.0581V30.0586V30.059V30.0594V30.0599V30.0603V30.0607V30.0611V30.0616V30.062V30.0624V30.0629V30.0633V30.0637V30.0642V30.0646V30.065V30.0655V30.0659V30.0663V30.0668V30.0672V30.0676V30.0681V30.0685V30.0689V30.0694V30.0698V30.0703V30.0707V30.0711V30.0716V30.072V30.0724V30.0729V30.0733V30.0737V30.0742V30.0746V30.0751V30.0755V30.0759V30.0764V30.0768V30.0772V30.0777V30.0781V30.0786V30.079V30.0794V30.0799V30.0803V30.0808V30.0812V30.0816V30.0821V30.0825V30.0829V30.0834V30.0838V30.0843V30.0847V30.0851V30.0856V30.086V30.0864V30.0869V30.0873V30.0878V30.0882V30.0886V30.0891V30.0895V30.0899V30.0904V30.0908V30.0912V30.0917V30.0921V30.0925V30.093V30.0934V30.0939V30.0943V30.0947V30.0952V30.0956V30.096V30.0965V30.0969V30.0973V30.0977V30.0982V30.0986V30.099V30.0995V30.0999V30.1003V30.1008V30.1012V30.1016V30.102V30.1025V30.1029V30.1033V30.1038V30.1042V30.1046V30.105V30.1055V30.1059V30.1063V30.1067V30.1072V30.1076V30.108V30.1084V30.1088V30.1093V30.1097V30.1101V30.1105V30.1109V30.1114V30.1118V30.1122V30.1126V30.113V30.1134V30.1139V30.1143V30.1147V30.1151V30.1155V30.1159V30.1163V30.1168V30.1172V30.1176V30.118V30.1184V30.1188V30.1192V30.1196V30.12V30.1204V30.1208V30.1212V30.1216V30.122V30.1224V30.1228V30.1232V30.1236V30.124V30.1244V30.1248V30.1252V30.1256V30.126V30.1264V30.1268V30.1272V30.1276V30.128V30.1284V30.1287V30.1291V30.1295V30.1299V30.1303V30.1307V30.1311V30.1314V30.1318V30.1322V30.1326V30.1329V30.1333V30.1337V30.1341V30.1345V30.1348V30.1352V30.1356V30.1359V30.1363V30.1367V30.137V30.1374V30.1378V30.1381V30.1385V30.1389V30.1392V30.1396V30.1399V30.1403V30.1407V30.141V30.1414V30.1417V30.1421V30.1424V30.1428V30.1431V30.1435V30.1438V30.1442V30.1445V30.1448V30.1452V30.1455V30.1459V30.1462V30.1465V30.1469V30.1472V30.1475V30.1479V30.1482V30.1485L21.7747 31.4379L21.7747 31.4388C21.7786 31.7992 21.9231 32.1437 22.177 32.3974C22.4119 32.6321 22.7229 32.7715 23.0512 32.7912V41.1163C23.0372 41.2174 23.0444 41.3203 23.0726 41.4184C23.1013 41.5184 23.151 41.6111 23.2184 41.69C23.2858 41.769 23.3693 41.8324 23.4632 41.8758C23.5572 41.9193 23.6594 41.9419 23.7628 41.9419C23.8662 41.9419 23.9684 41.9193 24.0624 41.8758C24.1563 41.8324 24.2398 41.769 24.3072 41.69C24.3746 41.6111 24.4244 41.5184 24.453 41.4184C24.4812 41.3203 24.4884 41.2174 24.4744 41.1163V32.7936H26.8667V41.1163C26.8527 41.2174 26.8599 41.3203 26.8881 41.4184C26.9168 41.5184 26.9665 41.6111 27.0339 41.69C27.1013 41.769 27.1848 41.8324 27.2787 41.8758C27.3727 41.9193 27.4749 41.9419 27.5783 41.9419C27.6817 41.9419 27.7839 41.9193 27.8779 41.8758C27.9718 41.8324 28.0553 41.769 28.1227 41.69C28.1901 41.6111 28.2399 41.5184 28.2685 41.4184C28.2967 41.3203 28.304 41.2174 28.2899 41.1163ZM29.4196 12.7432V17.1607H28.3038V14.6763V14.596H28.2235H26.9609H26.8806V14.6763V17.1607H24.4883V14.6763V14.596H24.408H23.1454H23.0651V14.6763V17.1607H21.9493V12.7432C21.9527 12.5957 22.013 12.4555 22.1172 12.3526C22.2215 12.2495 22.3615 12.1919 22.5071 12.192H22.5072H28.8617H28.8617C29.0074 12.1919 29.1474 12.2495 29.2517 12.3526C29.3559 12.4555 29.4162 12.5957 29.4196 12.7432ZM30.6961 26.7285L30.6961 26.7294C30.6965 26.8026 30.6817 26.8751 30.6527 26.9421C30.6236 27.0091 30.581 27.0691 30.5277 27.1184L30.5276 27.1183L30.5251 27.1209L29.1384 28.5215C29.1383 28.5217 29.1381 28.5218 29.138 28.522C29.034 28.6237 28.8951 28.6806 28.7506 28.6807H22.6599C22.5154 28.6806 22.3765 28.6237 22.2725 28.522C22.2723 28.5218 22.2722 28.5217 22.272 28.5215L20.8854 27.1209L20.8855 27.1208L20.8828 27.1184C20.8294 27.0691 20.7868 27.0091 20.7578 26.9421C20.7288 26.8751 20.714 26.8026 20.7144 26.7294V26.729V19.2319C20.7177 19.0829 20.7779 18.9409 20.882 18.8357C20.9862 18.7305 21.1263 18.6701 21.2732 18.6667H30.1789C30.3258 18.6701 30.4659 18.7305 30.5701 18.8357C30.6742 18.9409 30.7343 19.0827 30.7377 19.2317L30.6961 26.7285ZM28.1431 31.3015H23.2257V30.1728H28.1431V31.3015Z\",\n  fill: \"white\",\n  stroke: \"#5B5B5B\",\n  strokeWidth: 0.160666\n});\n\nvar SvgConnectFocus = function SvgConnectFocus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgConnectFocus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/connect_focus.ceddcfbb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.7558,\n  cy: 24.9033,\n  r: 23.8483,\n  fill: \"#B5D7D3\",\n  stroke: \"black\",\n  strokeWidth: 2.11\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.2826 18.1172L22.3266 31.6901L16.4375 25.5206\",\n  stroke: \"black\",\n  strokeWidth: 2.11,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgDone = function SvgDone(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDone, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/done.b62db6ef.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.7558,\n  cy: 24.9033,\n  r: 23.8483,\n  fill: \"white\",\n  stroke: \"#5B5B5B\",\n  strokeWidth: 2.11\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.6387 17.1367L23.3385 19.9093C24.7542 20.2448 25.7528 21.498 25.7528 22.9393V24.3546M25.7528 24.3546C25.7528 25.2359 25.4961 26.0984 25.0135 26.8389L20.5737 33.6509C19.6568 35.0577 17.6466 35.2322 16.4965 34.0047L11.6387 28.8202M25.7528 24.3546L25.7528 23.3007C25.7528 21.6474 26.8981 20.21 28.5221 19.8251L39.8668 17.1367M25.7528 24.3546C25.7528 25.2359 26.0094 26.0984 26.492 26.8389L30.9318 33.6509C31.8487 35.0577 33.8589 35.2322 35.009 34.0047L39.8668 28.8202M11.672 17.1367L23.4681 19.9093C25.0087 20.3402 26.638 20.3534 28.1856 19.9474L28.6516 19.8251L39.8748 17.1367\",\n  stroke: \"#5B5B5B\",\n  strokeWidth: 2.10983,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgProvision = function SvgProvision(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgProvision, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/provision.214c15c2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.7568,\n  cy: 24.997,\n  r: 23.8483,\n  fill: \"black\",\n  stroke: \"black\",\n  strokeWidth: 2.11\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.6387 17.2305L23.3385 20.003C24.7542 20.3385 25.7528 21.5917 25.7528 23.033V24.4484M25.7528 24.4484C25.7528 25.3296 25.4961 26.1922 25.0135 26.9326L20.5737 33.7446C19.6568 35.1515 17.6466 35.3259 16.4965 34.0984L11.6387 28.9139M25.7528 24.4484L25.7528 23.3945C25.7528 21.7412 26.8981 20.3037 28.5221 19.9189L39.8668 17.2305M25.7528 24.4484C25.7528 25.3296 26.0094 26.1922 26.492 26.9326L30.9318 33.7446C31.8487 35.1515 33.8589 35.3259 35.009 34.0985L39.8668 28.9139M11.672 17.2305L23.4681 20.003C25.0087 20.434 26.638 20.4472 28.1856 20.0412L28.6516 19.9189L39.8748 17.2305\",\n  stroke: \"white\",\n  strokeWidth: 2.10983,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgProvisionFocus = function SvgProvisionFocus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgProvisionFocus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/provision_focus.92b0cb45.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.6552,\n  cy: 24.9033,\n  r: 23.8483,\n  fill: \"white\",\n  stroke: \"#5B5B5B\",\n  strokeWidth: 2.11\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M15.0215 22.4838C17.959 19.8944 21.7403 18.4658 25.6562 18.4658C29.572 18.4658 33.3533 19.8944 36.2909 22.4838C36.728 22.8691 37.3946 22.8271 37.7799 22.39C38.1652 21.9529 38.1232 21.2862 37.6861 20.9009C34.3632 17.9719 30.0858 16.3558 25.6562 16.3558C21.2266 16.3558 16.9492 17.9719 13.6262 20.9009C13.1891 21.2862 13.1471 21.9529 13.5324 22.39C13.9177 22.8271 14.5844 22.8691 15.0215 22.4838ZM18.8335 26.304C20.7611 24.6985 23.1903 23.8193 25.6989 23.8193C28.2075 23.8193 30.6368 24.6985 32.5643 26.304C33.012 26.6769 33.6772 26.6162 34.0502 26.1685C34.4231 25.7208 34.3624 25.0556 33.9147 24.6827C31.608 22.7614 28.7009 21.7093 25.6989 21.7093C22.6969 21.7093 19.7898 22.7614 17.4831 24.6827C17.0354 25.0556 16.9748 25.7208 17.3477 26.1685C17.7206 26.6162 18.3858 26.6769 18.8335 26.304ZM25.6612 29.1728C24.5463 29.1728 23.459 29.5197 22.5501 30.1654C22.0751 30.5029 21.4165 30.3914 21.079 29.9164C20.7416 29.4414 20.8531 28.7828 21.3281 28.4453C22.594 27.546 24.1083 27.0628 25.6612 27.0628C27.214 27.0628 28.7284 27.546 29.9943 28.4453C30.4693 28.7828 30.5808 29.4414 30.2433 29.9164C29.9059 30.3914 29.2472 30.5029 28.7723 30.1654C27.8634 29.5197 26.7761 29.1728 25.6612 29.1728ZM25.6559 32.4202C25.0732 32.4202 24.6009 32.8925 24.6009 33.4752C24.6009 34.0579 25.0732 34.5302 25.6559 34.5302H25.6675C26.2501 34.5302 26.7225 34.0579 26.7225 33.4752C26.7225 32.8925 26.2501 32.4202 25.6675 32.4202H25.6559Z\",\n  fill: \"#5B5B5B\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 25.7066,\n  height: 25.7066,\n  fill: \"white\",\n  transform: \"translate(12.8027 12.0508)\"\n})));\n\nvar SvgWifi = function SvgWifi(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWifi, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wifi.029971c1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 25.6552,\n  cy: 24.9033,\n  r: 23.8483,\n  fill: \"black\",\n  stroke: \"black\",\n  strokeWidth: 2.11\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.1582 25.4927C20.2753 23.7293 22.9435 22.7637 25.6988 22.7637C28.4541 22.7637 31.1223 23.7293 33.2394 25.4927\",\n  stroke: \"white\",\n  strokeWidth: 2.11,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.3232 21.6917C17.4535 18.9325 21.4828 17.4102 25.6556 17.4102C29.8283 17.4102 33.8576 18.9325 36.9879 21.6917\",\n  stroke: \"white\",\n  strokeWidth: 2.11,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.9385 29.3048C23.0259 28.5322 24.3267 28.1172 25.6606 28.1172C26.9945 28.1172 28.2953 28.5322 29.3827 29.3048\",\n  stroke: \"white\",\n  strokeWidth: 2.11,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.6562 33.4746H25.6678\",\n  stroke: \"white\",\n  strokeWidth: 2.11,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 25.7066,\n  height: 25.7066,\n  fill: \"white\",\n  transform: \"translate(12.8027 12.0508)\"\n})));\n\nvar SvgWifiFocus = function SvgWifiFocus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 51,\n    height: 50,\n    viewBox: \"0 0 51 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWifiFocus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wifi_focus.90d83e34.svg\";\nexport { ForwardRef as ReactComponent };","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { Breadcrumbs, createStyles, Grid, Theme, Tooltip, Typography, withStyles, WithStyles } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport React from \"react\";\nimport { DetectState } from \"../../actions/serial\";\nimport { FlashingProperties, WizardAction, WizardError, WizardErrorType } from \"../../actions/wizard\";\nimport { tigerShade } from \"../../assets/theme/theme\";\nimport Connect from \"../../containers/wizard/Connect\";\nimport Flash from \"../../containers/wizard/Flash\";\nimport Setup from \"../../containers/wizard/Setup\";\nimport * as Serial from \"../../misc/serial\";\nimport { initialWizardState } from \"../../reducers/wizard\";\nimport HeaderBodyView, { Body, Header } from \"../general/HeaderBodyView\";\nimport { closePort } from \"../general/util\";\nimport DoneView from \"./DoneView\";\nimport ErrorButtonView from \"./ErrorButtonView\";\nimport { ReactComponent as ArrowIcon } from \"./images/arrow.svg\";\nimport { ReactComponent as ConnectFocusIcon } from \"./images/connect_focus.svg\";\nimport { ReactComponent as DoneIcon } from \"./images/done.svg\";\nimport { ReactComponent as ProvisionIcon } from \"./images/provision.svg\";\nimport { ReactComponent as ProvisionFocusIcon } from \"./images/provision_focus.svg\";\nimport { ReactComponent as WifiIcon } from \"./images/wifi.svg\";\nimport { ReactComponent as WifiFocusIcon } from \"./images/wifi_focus.svg\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    container: {\n      width: \"100%\",\n      height: \"calc(100vh - 214px)\",\n      textAlign: \"center\",\n    },\n    navigation: {\n      width: \"calc(100% + 8px)\",\n      marginLeft: -4,\n      height: 150,\n      backgroundColor: tigerShade,\n      alignContent: \"center\",\n      justifyContent: \"center\",\n    },\n    breadcrumbGrid: {\n      minWidth: 400,\n      width: 580,\n      height: 100,\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    unfocused: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    focused: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      fontWeight: 500,\n    },\n    icon: {\n      width: 50,\n      height: 51,\n    },\n    arrow: {\n      marginBottom: 16,\n    },\n  });\n\ninterface WizardProps extends WithStyles<typeof styles> {\n  currentPort?: SerialPort | undefined;\n  detectState?: DetectState;\n  currentPortOpen?: boolean;\n  flashingProperties?: FlashingProperties;\n  currentAction?: WizardAction | WizardError;\n\n  updateDetectState: (state: DetectState) => void;\n  updateCurrentPort: (state: SerialPort | undefined) => void;\n  updateCurrentPortOpen: (state: boolean) => void;\n  updateFlashingProperties: (state: FlashingProperties) => void;\n  updateCurrentAction: (state: WizardAction | WizardError) => void;\n}\n\nexport const StyledBreadcrumbs = withStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& .MuiBreadcrumbs-ol\": {\n      justifyContent: \"space-between\",\n    },\n  },\n}))(Breadcrumbs);\n\nclass WizardView extends React.Component<WizardProps> {\n  constructor(props: WizardProps) {\n    super(props);\n  }\n\n  viewRenderer(action?: WizardAction | WizardError): JSX.Element | undefined {\n    switch (action) {\n      case WizardAction.CONNECT:\n        return <Connect />;\n      case WizardAction.SETUP:\n        return <Setup />;\n      case WizardAction.FLASH:\n        return <Flash />;\n      case WizardAction.DONE:\n        return <DoneView />;\n      case undefined:\n        return undefined;\n      default:\n        switch (action.type) {\n          case WizardErrorType.FLASH_ERR:\n            return (\n              <ErrorButtonView\n                buttonFunction={() => this.props.updateCurrentAction(WizardAction.SETUP)}\n                buttonText=\"Try again\"\n                title=\"Error\"\n              />\n            );\n          case WizardErrorType.CREATE_PARTITION_ERR:\n            return (\n              <ErrorButtonView\n                buttonFunction={() => this.props.updateCurrentAction(WizardAction.SETUP)}\n                buttonText=\"Try again\"\n                title=\"Internal error\"\n              />\n            );\n          case WizardErrorType.SERIAL_NOT_SUPPORT:\n            return (\n              <ErrorButtonView\n                buttonHref=\"https://docs.toit.io/getstarted/installation\"\n                buttonText=\"Install Toit locally\"\n                buttonTarget=\"_blank\"\n                title=\"Serial not supported in your browser\"\n                description={false}\n              >\n                Serial is not supported in the browser you use. We currently only support desktop versions of\n                <strong> Google Chrome</strong> and <strong>Microsoft Edge</strong>.<br />\n                <br />\n                Alternative you can install the local Toit Development Environment and flash your device using the\n                Command Line.\n              </ErrorButtonView>\n            );\n          default:\n            break;\n        }\n    }\n  }\n\n  async onDisconnect() {\n    try {\n      await closePort(this.props);\n    } catch (e) {\n      console.log(\"Failed to close ports on disconnect\", e);\n    }\n    this.props.updateCurrentPort(undefined);\n    this.props.updateCurrentAction(WizardAction.CONNECT);\n  }\n\n  componentDidMount() {\n    const query = queryString.parse(window.location.search);\n\n    if (!Serial.isSupported()) {\n      this.props.updateCurrentAction({\n        type: WizardErrorType.SERIAL_NOT_SUPPORT,\n        error: \"serial not supported\",\n      });\n      return;\n    }\n\n    if (\n      query[\"connected\"] !== undefined &&\n      this.props.currentPort !== undefined &&\n      this.props.detectState?.hardwareValid\n    ) {\n      this.props.updateCurrentAction(WizardAction.SETUP);\n    } else {\n      this.props.updateCurrentPort(undefined);\n      this.props.updateCurrentAction(initialWizardState.currentAction);\n    }\n    navigator.serial.ondisconnect = async () => {\n      await this.onDisconnect();\n    };\n  }\n\n  async componentDidUpdate() {\n    if (this.props.currentAction === WizardAction.DONE && this.props.currentPort) {\n      try {\n        await closePort(this.props);\n      } catch (e) {\n        console.log(\"Failed to close\", e);\n      }\n      this.props.updateCurrentPort(undefined);\n    }\n  }\n\n  async componentWillUnmount() {\n    await closePort(this.props);\n  }\n\n  render() {\n    return (\n      <HeaderBodyView>\n        <Header>\n          <Grid container className={this.props.classes.navigation}>\n            <Grid item className={this.props.classes.breadcrumbGrid}>\n              {this.props.currentAction && (\n                <StyledBreadcrumbs\n                  aria-label=\"breadcrumb\"\n                  separator={<ArrowIcon className={this.props.classes.arrow} />}\n                >\n                  <Tooltip title=\"Creates a connection between your device and computer\">\n                    <Typography\n                      color=\"textPrimary\"\n                      className={\n                        this.props.currentAction === WizardAction.CONNECT\n                          ? this.props.classes.focused\n                          : this.props.classes.unfocused\n                      }\n                    >\n                      {this.props.currentAction === WizardAction.CONNECT ? (\n                        <ConnectFocusIcon className={this.props.classes.icon} />\n                      ) : (\n                        <DoneIcon className={this.props.classes.icon} />\n                      )}\n                      Connect\n                    </Typography>\n                  </Tooltip>\n                  <Tooltip title=\"WiFi credentials are used to connect your device to the internet\">\n                    <Typography\n                      color=\"textPrimary\"\n                      className={\n                        this.props.currentAction === WizardAction.SETUP\n                          ? this.props.classes.focused\n                          : this.props.classes.unfocused\n                      }\n                    >\n                      {this.props.currentAction === WizardAction.SETUP ? (\n                        <WifiFocusIcon className={this.props.classes.icon} />\n                      ) : this.props.currentAction > WizardAction.SETUP ? (\n                        <DoneIcon className={this.props.classes.icon} />\n                      ) : (\n                        <WifiIcon className={this.props.classes.icon} />\n                      )}\n                      Setup\n                    </Typography>\n                  </Tooltip>\n                  <Tooltip title=\"Installs Toit firmware on your ESP32\">\n                    <Typography\n                      color=\"textPrimary\"\n                      className={\n                        this.props.currentAction === WizardAction.FLASH\n                          ? this.props.classes.focused\n                          : this.props.classes.unfocused\n                      }\n                    >\n                      {this.props.currentAction === WizardAction.FLASH ? (\n                        <ProvisionFocusIcon className={this.props.classes.icon} />\n                      ) : this.props.currentAction > WizardAction.FLASH ? (\n                        <DoneIcon className={this.props.classes.icon} />\n                      ) : (\n                        <ProvisionIcon className={this.props.classes.icon} />\n                      )}\n                      Flash\n                    </Typography>\n                  </Tooltip>\n                </StyledBreadcrumbs>\n              )}\n            </Grid>\n          </Grid>\n        </Header>\n        <Body>{this.viewRenderer(this.props.currentAction)}</Body>\n      </HeaderBodyView>\n    );\n  }\n}\n\nexport default withStyles(styles)(WizardView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport { connect } from \"react-redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport {\n  DetectState,\n  SerialAction,\n  updateCurrentPort,\n  updateCurrentPortOpen,\n  updateDetectState,\n} from \"../../actions/serial\";\nimport {\n  FlashingProperties,\n  updateCurrentAction,\n  updateFlashingProperties,\n  WizardAction,\n  WizardError,\n  WizardReduxAction,\n} from \"../../actions/wizard\";\nimport WizardView from \"../../components/wizard/WizardView\";\nimport { RootState } from \"../../store\";\n\nexport interface FirmwareNameModel {\n  name: string;\n  models: string[];\n}\n\nconst mapStateToProps = (state: RootState) => {\n  const serial = state.serial;\n  const wizard = state.wizard;\n  return {\n    flashingProperties: wizard.flashingProperties,\n    currentPort: serial.currentPort,\n    detectState: serial.detectState,\n    currentPortOpen: serial.currentPortOpen,\n    currentAction: wizard.currentAction,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<RootState, void, SerialAction | WizardReduxAction>) => {\n  return {\n    updateDetectState: (state: DetectState) => {\n      dispatch(updateDetectState(state));\n    },\n    updateCurrentPort: (state: SerialPort | undefined) => {\n      dispatch(updateCurrentPort(state));\n    },\n    updateCurrentPortOpen: (state: boolean) => {\n      dispatch(updateCurrentPortOpen(state));\n    },\n    updateCurrentAction: (state: WizardAction | WizardError) => {\n      dispatch(updateCurrentAction(state));\n    },\n    updateFlashingProperties: (state: FlashingProperties) => {\n      dispatch(updateFlashingProperties(state));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WizardView);\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { createStyles, CssBaseline, Theme, withStyles, WithStyles } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport { UnregisterCallback } from \"history\";\nimport React from \"react\";\nimport { Route, RouteComponentProps, Switch, withRouter } from \"react-router-dom\";\nimport Wizard from \"../containers/wizard/Wizard\";\n\nconst gridSpacing = 8;\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    content: {\n      flexGrow: 1,\n      backgroundColor: theme.palette.background.default,\n      padding: gridSpacing / 2,\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100vh\",\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      marginLeft: 0,\n      width: \"calc(100% - \" + 0 + \"px)\",\n    },\n    contentShift: {\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: 0,\n    },\n    list: {\n      overflowX: \"hidden\",\n      overflow: \"auto\",\n    },\n    icon: {\n      color: \"black\",\n    },\n  });\n\ninterface MainProps extends WithStyles<typeof styles>, RouteComponentProps {}\n\ninterface MenuState {\n  menuShown: boolean;\n  currentPage?: PageComponent;\n}\n\ninterface PageComponent {\n  name: string;\n  routepath: string;\n  linkpath: string;\n  exact: boolean;\n  render: (props: RouteComponentProps) => React.ReactNode;\n  icon?: JSX.Element;\n  showInMenu?: boolean;\n  selected?: string[];\n  start?: boolean;\n  developmentOnly?: boolean;\n  newMenuGroup?: boolean;\n  badge?: string;\n}\n\nclass MainView extends React.Component<MainProps, MenuState> {\n  unlisten?: UnregisterCallback = undefined;\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n\n  state = {\n    menuShown: true,\n  };\n\n  static pages: PageComponent[] = [\n    {\n      name: \"SetupWizard\",\n      routepath: \"/\",\n      linkpath: \"wizard\",\n      exact: true,\n      render: (routeProps) => <Wizard />,\n      selected: [\"/\"],\n    },\n  ];\n\n  static findCurrentPageComponent = (location: string): PageComponent | undefined => {\n    for (let i = 0; i < MainView.pages.length; i++) {\n      const page = MainView.pages[i];\n      if (location === \"/\" && page.start) {\n        return page;\n      } else if (page.selected) {\n        if (page.selected.filter((path) => location.startsWith(path)).length > 0) {\n          return page;\n        }\n      }\n    }\n    return undefined;\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n\n        <main className={clsx(classes.content, { [classes.contentShift]: this.state.menuShown })}>\n          <Switch>\n            {MainView.pages.map((page, index) => (\n              <Route key={index} path={page.routepath} exact={page.exact} render={page.render} />\n            ))}\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(MainView));\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { MuiThemeProvider } from \"@material-ui/core\";\nimport React from \"react\";\nimport theme from \"./assets/theme/theme\";\nimport MainView from \"./components/MainView\";\n\nfunction App(): JSX.Element {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <MainView />\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\nimport {\n  DetectState,\n  SerialAction,\n  UPDATE_CURRENT_PORT,\n  UPDATE_CURRENT_PORT_OPEN,\n  UPDATE_DETECT_STATE,\n} from \"../actions/serial\";\n\nexport type SerialState = {\n  readonly currentPort?: SerialPort;\n  readonly detectState?: DetectState;\n  readonly currentPortOpen?: boolean;\n};\n\nexport const initialSerialState: SerialState = {};\n\nexport default function (state: SerialState = initialSerialState, action: SerialAction): SerialState {\n  switch (action.type) {\n    case UPDATE_CURRENT_PORT:\n      if (action.payload.currentPort === undefined) {\n        return {\n          ...state,\n          currentPort: action.payload.currentPort,\n          detectState: undefined,\n          currentPortOpen: undefined,\n        };\n      }\n      return {\n        ...state,\n        currentPort: action.payload.currentPort,\n      };\n    case UPDATE_DETECT_STATE:\n      if (state.currentPort === undefined) {\n        console.log(\"SHOULD NEVER HAPPEN\");\n        //TODO: Throw error\n        return state;\n      }\n\n      return {\n        ...state,\n        detectState: action.payload.detectState,\n      };\n\n    case UPDATE_CURRENT_PORT_OPEN:\n      if (state.currentPort === undefined) {\n        console.log(\"SHOULD NEVER HAPPEN\");\n        //TODO: Throw error\n        return state;\n      }\n      return {\n        ...state,\n        currentPortOpen: action.payload.currentPortOpen,\n      };\n    default:\n      return state;\n  }\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport { batch } from \"react-redux\";\nimport { AnyAction, combineReducers, createStore, Middleware, Store } from \"redux\";\nimport serial, { SerialState } from \"./reducers/serial\";\nimport wizard, { WizardState } from \"./reducers/wizard\";\n\nexport interface RootState {\n  serial: SerialState;\n  wizard: WizardState;\n}\n\nexport class Loadable<T> {\n  readonly loading: boolean;\n  readonly value?: T;\n\n  static new<T>(): Loadable<T> {\n    return new Loadable<T>();\n  }\n\n  constructor(loading?: boolean, value?: T) {\n    this.loading = loading || false;\n    this.value = value;\n  }\n}\n\nconst reducers = combineReducers<RootState>({\n  serial,\n  wizard,\n});\n\nconst batcher: Middleware = (store) => (next) => {\n  let queuedActions: AnyAction[] = [];\n  let timeout: number | undefined = undefined;\n\n  return (action: AnyAction) => {\n    if (!action.batch) {\n      return next(action);\n    }\n    queuedActions.push(action);\n\n    if (!timeout) {\n      timeout = window.setTimeout(() => {\n        batch(() => {\n          queuedActions.forEach((action) => next(action));\n        });\n        queuedActions = [];\n        timeout = undefined;\n      }, 500);\n    }\n  };\n};\n\nexport default function configureStore(): Store {\n  console.log(\"load enhancer\");\n  console.log(\"create store\");\n  const store = createStore(reducers);\n  return store;\n}\n","// Copyright (C) 2022 Toitware ApS. All rights reserved.\n// Use of this source code is governed by an MIT-style license that can be\n// found in the LICENSE file.\n\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\nimport \"./fonts.css\";\nimport \"./index.css\";\nimport configureStore from \"./store\";\n\nrender(\n  <Provider store={configureStore()}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}